{"version":3,"file":"plugins.esm.js","sources":["../src/Parallax.ts","../src/Fade.ts","../src/AutoPlay.ts","../src/index.ts"],"sourcesContent":["import Flicking, { FlickingEvent, Plugin } from \"@egjs/flicking\";\n\n/**\n * You can apply parallax effect while panel is moving.\n * @ko 패널들을 움직이면서 parallax 효과를 부여할 수 있습니다.\n * @memberof eg.Flicking.plugins\n */\nclass Parallax implements Plugin {\n  /**\n   * @param - Selector of the element to apply parallax effect <ko> Parallax 효과를 적용할 엘리먼트의 선택자 </ko>\n   * @param - Effect amplication scale <ko>효과 증폭도</ko>\n   * @example\n   * flicking.addPlugins(new eg.Flicking.plugins.Parallax(\"img\", 1));\n   */\n  constructor(private selector: string = \"\", private scale: number = 1) {}\n  public init(flicking: Flicking): void {\n    flicking.on(\"move\", this.onMove);\n    this.move(flicking);\n  }\n  public destroy(flicking: Flicking): void {\n    flicking.off(\"move\", this.onMove);\n  }\n  private onMove = (e: FlickingEvent): void => {\n    this.move(e.currentTarget);\n  }\n  private move(flicking: Flicking): void {\n    const panels = flicking.getVisiblePanels();\n\n    panels.forEach(panel => {\n      const progress = panel.getOutsetProgress();\n\n      panel.update(el => {\n        const target = el.querySelector<HTMLElement>(this.selector)!;\n        const parentTarget = target.parentNode as Element;\n        const rect = target.getBoundingClientRect();\n        const parentRect = parentTarget.getBoundingClientRect();\n        const position = (parentRect.width - rect.width) / 2 * progress * this.scale;\n        const transform = `translate(-50%) translate(${position}px)`;\n        const style = target.style;\n\n        style.cssText += `transform: ${transform};-webkit-transform: ${transform};-ms-transform:${transform}`;\n      });\n    });\n  }\n}\nexport default Parallax;\n","import Flicking, { FlickingEvent, Plugin } from \"@egjs/flicking\";\n\n/**\n * You can apply fade in / out effect while panel is moving.\n * @ko 패널들을 움직이면서 fade in / out 효과를 부여할 수 있습니다.\n * @memberof eg.Flicking.plugins\n */\nclass Fade implements Plugin {\n  /**\n   * @param - The selector of the element to which the fade effect is to be applied. If the selector is blank, it applies to panel element. <ko>Fade 효과를 적용할 대상의 선택자. 선택자가 공백이면 패널 엘리먼트에 적용된다.</ko>\n   * @param - Effect amplication scale <ko>효과 증폭도</ko>\n   * @example\n   * flicking.addPlugins(new eg.Flicking.plugins.Fade(\"p\", 1));\n   */\n  constructor(private selector: string = \"\", private scale: number = 1) {}\n  public init(flicking: Flicking): void {\n    flicking.on(\"move\", this.onMove);\n    this.move(flicking);\n  }\n  public destroy(flicking: Flicking): void {\n    flicking.off(\"move\", this.onMove);\n  }\n  private onMove = (e: FlickingEvent): void => {\n    this.move(e.currentTarget);\n  }\n  private move(flicking: Flicking): void {\n    const panels = flicking.getVisiblePanels();\n    const selector = this.selector;\n    const scale = this.scale;\n\n    panels.forEach(panel => {\n      const progress = panel.getOutsetProgress();\n\n      panel.update(el => {\n        const target = selector ? el.querySelector<HTMLElement>(selector)! : el;\n        const opacity = Math.min(1, Math.max(0, (1 - Math.abs(progress * scale))));\n\n        target.style.opacity = `${opacity}`;\n      });\n    });\n  }\n}\n\nexport default Fade;\n","import Flicking, { FlickingEvent, Plugin, Direction } from \"@egjs/flicking\";\n\n/**\n * Plugin that allow you to automatically move to the next/previous panel, on a specific time basis\n * @ko 일정 시간마다, 자동으로 다음/이전 패널로 넘어가도록 할 수 있는 플러그인\n * @memberof eg.Flicking.plugins\n */\nclass AutoPlay implements Plugin {\n  private timerId = 0;\n  /**\n   * @param - Time to wait before moving on to the next panel <ko>다음 패널로 움직이기까지 대기 시간</ko>\n   * @param - The direction in which the panel moves. <ko>패널이 움직이는 방향</ko>\n   * @example\n   * flicking.addPlugins(new eg.Flicking.plugins.AutoPlay(2000, \"NEXT\"));\n   */\n  constructor(private duration: number = 2000, private direction: Direction[keyof Direction] = \"NEXT\") {}\n  public init(flicking: Flicking): void {\n    flicking.on({\n      move: this.onStop,\n      holdStart: this.onStop,\n      select: this.onPlay,\n      moveEnd: this.onPlay,\n    });\n\n    this.play(flicking);\n  }\n  public destroy(flicking: Flicking): void {\n    this.onStop();\n    flicking.off(\"moveStart\", this.onStop);\n    flicking.off(\"holdStart\", this.onStop);\n    flicking.off(\"moveEnd\", this.onPlay);\n    flicking.off(\"select\", this.onPlay);\n  }\n  private play(flicking: Flicking) {\n    this.onStop();\n\n    this.timerId = window.setTimeout(() => {\n      flicking[this.direction === \"NEXT\" ? \"next\" : \"prev\"]();\n\n      this.play(flicking);\n    }, this.duration);\n  }\n  private onPlay = (e: FlickingEvent): void => {\n    this.play(e.currentTarget);\n  }\n  private onStop = () => {\n    clearTimeout(this.timerId);\n  }\n}\n\nexport default AutoPlay;\n","/**\n * @namepsace eg.Flicking\n */\n/**\n * @namepsace eg.Flicking.plugins\n */\nimport Parallax from \"./Parallax\";\nimport Fade from \"./Fade\";\nimport AutoPlay from \"./AutoPlay\";\n\nexport {\n  Parallax,\n  Fade,\n  AutoPlay,\n};\n"],"names":["selector","scale","e","_this","move","currentTarget","flicking","on","onMove","off","panels","getVisiblePanels","forEach","panel","progress","getOutsetProgress","update","el","target","querySelector","parentTarget","parentNode","rect","getBoundingClientRect","parentRect","position","width","transform","style","cssText","opacity","Math","min","max","abs","duration","direction","play","clearTimeout","timerId","onStop","holdStart","select","onPlay","moveEnd","window","setTimeout"],"mappings":"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"}