{"version":3,"file":"plugins.esm.js","sources":["../src/Parallax.ts","../src/Fade.ts","../src/AutoPlay.ts","../src/event.ts","../src/const.ts","../src/utils.ts","../src/Arrow.ts","../src/pagination/renderer/Renderer.ts","../src/pagination/renderer/BulletRenderer.ts","../src/pagination/renderer/FractionRenderer.ts","../src/pagination/renderer/ScrollBulletRenderer.ts","../src/pagination/Pagination.ts","../src/index.ts"],"sourcesContent":["import Flicking, { EVENTS, Plugin } from \"@egjs/flicking\";\n\n/**\n * You can apply parallax effect while panel is moving.\n * @ko 패널들을 움직이면서 parallax 효과를 부여할 수 있습니다.\n * @memberof Flicking.Plugins\n */\nclass Parallax implements Plugin {\n  private _flicking: Flicking | null;\n\n  /* Options  */\n  private _selector: string;\n  private _scale: number;\n\n  public get selector() { return this._selector; }\n  public get scale() { return this._scale; }\n\n  public set selector(val: string) { this._selector = val; }\n  public set scale(val: number) { this._scale = val; }\n\n  /**\n   * @param {string} selector Selector of the element to apply parallax effect<ko> Parallax 효과를 적용할 엘리먼트의 선택자 </ko>\n   * @param {number} scale Effect amplication scale<ko>효과 증폭도</ko>\n   * @example\n   * ```ts\n   * flicking.addPlugins(new Parallax(\"img\", 1));\n   * ```\n   */\n  public constructor(selector = \"\", scale = 1) {\n    this._flicking = null;\n    this._selector = selector;\n    this._scale = scale;\n  }\n\n  public init(flicking: Flicking): void {\n    if (this._flicking) {\n      this.destroy();\n    }\n\n    this._flicking = flicking;\n\n    flicking.on(EVENTS.MOVE, this._onMove);\n    flicking.on(EVENTS.AFTER_RESIZE, this.update);\n    this._onMove();\n  }\n\n  public destroy(): void {\n    if (!this._flicking) return;\n\n    this._flicking.off(EVENTS.MOVE, this._onMove);\n    this._flicking = null;\n  }\n\n  public update = (): void => {\n    this._onMove();\n  };\n\n  private _onMove = (): void => {\n    const flicking = this._flicking;\n\n    if (!flicking) return;\n\n    const panels = flicking.visiblePanels;\n\n    panels.forEach(panel => {\n      const progress = panel.outsetProgress;\n      const el = panel.element;\n      const target = this._selector ? el.querySelector<HTMLElement>(this._selector)! : el;\n      const parentTarget = target.parentNode as Element;\n      const rect = target.getBoundingClientRect();\n      const parentRect = parentTarget.getBoundingClientRect();\n      const position = (parentRect.width - rect.width) / 2 * progress * this._scale;\n      const transform = `translate(-50%) translate(${position}px)`;\n      const style = target.style;\n\n      style.cssText += `transform: ${transform};-webkit-transform: ${transform};-ms-transform:${transform}`;\n    });\n  };\n}\nexport default Parallax;\n","import Flicking, { EVENTS, Plugin } from \"@egjs/flicking\";\n\n/**\n * You can apply fade in / out effect while panel is moving.\n * @ko 패널들을 움직이면서 fade in / out 효과를 부여할 수 있습니다.\n * @memberof Flicking.Plugins\n */\nclass Fade implements Plugin {\n  private _flicking: Flicking | null;\n\n  /* Options  */\n  private _selector: string;\n  private _scale: number;\n\n  public get selector() { return this._selector; }\n  public get scale() { return this._scale; }\n\n  public set selector(val: string) { this._selector = val; }\n  public set scale(val: number) { this._scale = val; }\n\n  /**\n   * @param - The selector of the element to which the fade effect is to be applied. If the selector is blank, it applies to panel element. <ko>Fade 효과를 적용할 대상의 선택자. 선택자가 공백이면 패널 엘리먼트에 적용된다.</ko>\n   * @param - Effect amplication scale<ko>효과 증폭도</ko>\n   * @example\n   * ```ts\n   * flicking.addPlugins(new Fade(\"p\", 1));\n   * ```\n   */\n  public constructor(selector = \"\", scale = 1) {\n    this._flicking = null;\n    this._selector = selector;\n    this._scale = scale;\n  }\n\n  public init(flicking: Flicking): void {\n    if (this._flicking) {\n      this.destroy();\n    }\n\n    this._flicking = flicking;\n\n    flicking.on(EVENTS.MOVE, this._onMove);\n    flicking.on(EVENTS.AFTER_RESIZE, this.update);\n    this._onMove();\n  }\n\n  public destroy(): void {\n    if (!this._flicking) return;\n\n    this._flicking.off(EVENTS.MOVE, this._onMove);\n    this._flicking = null;\n  }\n\n  public update = (): void => {\n    this._onMove();\n  };\n\n  private _onMove = (): void => {\n    const flicking = this._flicking;\n    const selector = this._selector;\n    const scale = this._scale;\n\n    if (!flicking) return;\n\n    const panels = flicking.visiblePanels;\n\n    panels.forEach(panel => {\n      const progress = panel.outsetProgress;\n      const el = panel.element;\n      const target = selector ? el.querySelector<HTMLElement>(selector)! : el;\n      const opacity = Math.min(1, Math.max(0, (1 - Math.abs(progress * scale))));\n\n      target.style.opacity = `${opacity}`;\n    });\n  };\n}\n\nexport default Fade;\n","import Flicking, { EVENTS, Plugin, DIRECTION } from \"@egjs/flicking\";\n\ninterface AutoPlayOptions {\n  duration: number;\n  direction: typeof DIRECTION[\"NEXT\"] | typeof DIRECTION[\"PREV\"];\n  stopOnHover: boolean;\n}\n\n/**\n * Plugin that allow you to automatically move to the next/previous panel, on a specific time basis\n * @ko 일정 시간마다, 자동으로 다음/이전 패널로 넘어가도록 할 수 있는 플러그인\n * @memberof Flicking.Plugins\n */\nclass AutoPlay implements Plugin {\n  /* Options */\n  private _duration: AutoPlayOptions[\"duration\"];\n  private _direction: AutoPlayOptions[\"direction\"];\n  private _stopOnHover: AutoPlayOptions[\"stopOnHover\"];\n\n  /* Internal Values */\n  private _flicking: Flicking | null = null;\n  private _timerId = 0;\n  private _mouseEntered = false;\n\n  public get duration() { return this._duration; }\n  public get direction() { return this._direction; }\n  public get stopOnHover() { return this._stopOnHover; }\n\n  public set duration(val: number) { this._duration = val; }\n  public set direction(val: AutoPlayOptions[\"direction\"]) { this._direction = val; }\n  public set stopOnHover(val: boolean) { this._stopOnHover = val; }\n\n  /**\n   * @param {AutoPlayOptions} options Options for the AutoPlay instance.<ko>AutoPlay 옵션</ko>\n   * @param {number} options.duration Time to wait before moving on to the next panel.<ko>다음 패널로 움직이기까지 대기 시간</ko>\n   * @param {\"PREV\" | \"NEXT\"} options.direction The direction in which the panel moves.<ko>패널이 움직이는 방향</ko>\n   * @param {boolean} options.stopOnHover Whether to stop when mouse hover upon the element.<ko>엘리먼트에 마우스를 올렸을 때 AutoPlay를 정지할지 여부</ko>\n   * @example\n   * ```ts\n   * flicking.addPlugins(new AutoPlay({ duration: 2000, direction: \"NEXT\" }));\n   * ```\n   */\n  public constructor({\n    duration = 2000,\n    direction = DIRECTION.NEXT,\n    stopOnHover = false\n  }: Partial<AutoPlayOptions> = {}) {\n    this._duration = duration;\n    this._direction = direction;\n    this._stopOnHover = stopOnHover;\n  }\n\n  public init(flicking: Flicking): void {\n    if (this._flicking) {\n      this.destroy();\n    }\n\n    flicking.on({\n      [EVENTS.MOVE_START]: this.stop,\n      [EVENTS.HOLD_START]: this.stop,\n      [EVENTS.MOVE_END]: this.play,\n      [EVENTS.SELECT]: this.play\n    });\n\n    this._flicking = flicking;\n    if (this._stopOnHover) {\n      const targetEl = this._flicking.element;\n      targetEl.addEventListener(\"mouseenter\", this._onMouseEnter, false);\n      targetEl.addEventListener(\"mouseleave\", this._onMouseLeave, false);\n    }\n\n    this.play();\n  }\n\n  public destroy(): void {\n    const flicking = this._flicking;\n\n    this._mouseEntered = false;\n    this.stop();\n\n    if (!flicking) {\n      return;\n    }\n\n    flicking.off(EVENTS.MOVE_START, this.stop);\n    flicking.off(EVENTS.HOLD_START, this.stop);\n    flicking.off(EVENTS.MOVE_END, this.play);\n    flicking.off(EVENTS.SELECT, this.play);\n\n    const targetEl = flicking.element;\n    targetEl.removeEventListener(\"mouseenter\", this._onMouseEnter, false);\n    targetEl.removeEventListener(\"mouseleave\", this._onMouseLeave, false);\n\n    this._flicking = null;\n  }\n\n  public update(): void {\n    // DO-NOTHING\n  }\n\n  public play = () => {\n    const flicking = this._flicking;\n    const direction = this._direction;\n\n    if (!flicking) {\n      return;\n    }\n\n    this.stop();\n\n    if (this._mouseEntered || flicking.animating) {\n      return;\n    }\n\n    this._timerId = window.setTimeout(() => {\n      if (direction === DIRECTION.NEXT) {\n        flicking.next().catch(() => void 0);\n      } else {\n        flicking.prev().catch(() => void 0);\n      }\n\n      this.play();\n    }, this._duration);\n  };\n\n  public stop = () => {\n    clearTimeout(this._timerId);\n  };\n\n  private _onMouseEnter = () => {\n    this._mouseEntered = true;\n    this.stop();\n  };\n\n  private _onMouseLeave = () => {\n    this._mouseEntered = false;\n    this.play();\n  };\n}\n\nexport default AutoPlay;\n","export const BROWSER = {\n  CLICK: \"click\",\n  MOUSE_DOWN: \"mousedown\",\n  TOUCH_START: \"touchstart\"\n};\n","export const ARROW = {\n  PREV_SELECTOR: \".flicking-arrow-prev\",\n  NEXT_SELECTOR: \".flicking-arrow-next\",\n  DISABLED_CLASS: \"flicking-arrow-disabled\"\n} as const;\n\nexport const PAGINATION = {\n  SELECTOR: \".flicking-pagination\",\n  PREFIX: \"flicking-pagination\",\n  BULLET_WRAPPER_SUFFIX: \"bullets\",\n  BULLET_SUFFIX: \"bullet\",\n  BULLET_ACTIVE_SUFFIX: \"bullet-active\",\n  FRACTION_WRAPPER_SUFFIX: \"fraction\",\n  FRACTION_CURRENT_SUFFIX: \"fraction-current\",\n  FRACTION_TOTAL_SUFFIX: \"fraction-total\",\n  SCROLL_UNINIT_SUFFIX: \"uninitialized\",\n  SCROLL_WRAPPER_SUFFIX: \"scroll\",\n  SCROLL_SLIDER_SUFFIX: \"slider\",\n  SCROLL_PREV_SUFFIX: \"bullet-prev\",\n  SCROLL_NEXT_SUFFIX: \"bullet-next\",\n  TYPE: {\n    BULLET: \"bullet\",\n    FRACTION: \"fraction\",\n    SCROLL: \"scroll\"\n  }\n} as const;\n","export const addClass = (el: HTMLElement, className: string) => {\n  if (el.classList) {\n    el.classList.add(className);\n  } else {\n    const classes = el.className.split(\" \");\n\n    if (classes.indexOf(className) < 0) {\n      el.className = `${el.className} ${className}`;\n    }\n  }\n};\n\nexport const removeClass = (el: HTMLElement, className: string) => {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    const classRegex = new RegExp(`( |^)${className}( |$)`, \"g\");\n    el.className.replace(classRegex, \" \");\n  }\n};\n\nexport const getElement = (selector: string, parent: HTMLElement, pluginName: string) => {\n  const el = parent.querySelector(selector);\n\n  if (!el) {\n    throw new Error(`[Flicking-${pluginName}] Couldn't find element with the given selector: ${selector}`);\n  }\n\n  return el as HTMLElement;\n};\n","import Flicking, { EVENTS, FlickingError, Plugin } from \"@egjs/flicking\";\n\nimport { BROWSER } from \"./event\";\nimport { ARROW } from \"./const\";\nimport { addClass, getElement, removeClass } from \"./utils\";\n\ninterface ArrowOptions {\n  parentEl: HTMLElement | null;\n  prevElSelector: string;\n  nextElSelector: string;\n  disabledClass: string;\n  moveCount: number;\n  moveByViewportSize: boolean;\n}\n\n/**\n * A plugin to easily create prev/right arrow button of Flicking\n * @ko 이전/다음 버튼을 쉽게 만들 수 있는 플러그인\n * @memberof Flicking.Plugins\n */\nclass Arrow implements Plugin {\n  /* Internal Values */\n  private _flicking: Flicking | null = null;\n  private _prevEl: HTMLElement;\n  private _nextEl: HTMLElement;\n\n  /* Options */\n  private _parentEl: ArrowOptions[\"parentEl\"];\n  private _prevElSelector: ArrowOptions[\"prevElSelector\"];\n  private _nextElSelector: ArrowOptions[\"nextElSelector\"];\n  private _disabledClass: ArrowOptions[\"disabledClass\"];\n  private _moveCount: ArrowOptions[\"moveCount\"];\n  private _moveByViewportSize: ArrowOptions[\"moveByViewportSize\"];\n\n  public get prevEl() { return this._prevEl; }\n  public get nextEl() { return this._nextEl; }\n\n  public get parentEl() { return this._parentEl; }\n  public get prevElSelector() { return this._prevElSelector; }\n  public get nextElSelector() { return this._nextElSelector; }\n  public get disabledClass() { return this._disabledClass; }\n  public get moveCount() { return this._moveCount; }\n  public get moveByViewportSize() { return this._moveByViewportSize; }\n\n  public set parentEl(val: ArrowOptions[\"parentEl\"]) { this._parentEl = val; }\n  public set prevElSelector(val: ArrowOptions[\"prevElSelector\"]) { this._prevElSelector = val; }\n  public set nextElSelector(val: ArrowOptions[\"nextElSelector\"]) { this._nextElSelector = val; }\n  public set disabledClass(val: ArrowOptions[\"disabledClass\"]) { this._disabledClass = val; }\n  public set moveCount(val: ArrowOptions[\"moveCount\"]) { this._moveCount = val; }\n  public set moveByViewportSize(val: ArrowOptions[\"moveByViewportSize\"]) { this._moveByViewportSize = val; }\n\n  public constructor({\n    parentEl = null,\n    prevElSelector = ARROW.PREV_SELECTOR,\n    nextElSelector = ARROW.NEXT_SELECTOR,\n    disabledClass = ARROW.DISABLED_CLASS,\n    moveCount = 1,\n    moveByViewportSize = false\n  }: Partial<ArrowOptions> = {}) {\n    this._parentEl = parentEl;\n    this._prevElSelector = prevElSelector;\n    this._nextElSelector = nextElSelector;\n    this._disabledClass = disabledClass;\n    this._moveCount = moveCount;\n    this._moveByViewportSize = moveByViewportSize;\n  }\n\n  public init(flicking: Flicking): void {\n    if (this._flicking) {\n      this.destroy();\n    }\n\n    this._flicking = flicking;\n\n    flicking.on(EVENTS.MOVE, this._onAnimation);\n\n    const parentEl = this._parentEl ? this._parentEl : flicking.element;\n    const prevEl = getElement(this._prevElSelector, parentEl, \"Arrow\");\n    const nextEl = getElement(this._nextElSelector, parentEl, \"Arrow\");\n\n    [BROWSER.MOUSE_DOWN, BROWSER.TOUCH_START].forEach(evt => {\n      prevEl.addEventListener(evt, this._preventInputPropagation);\n      nextEl.addEventListener(evt, this._preventInputPropagation);\n    });\n\n    prevEl.addEventListener(BROWSER.CLICK, this._onPrevClick);\n    nextEl.addEventListener(BROWSER.CLICK, this._onNextClick);\n\n    this._prevEl = prevEl;\n    this._nextEl = nextEl;\n\n    this.update();\n  }\n\n  public destroy(): void {\n    const flicking = this._flicking;\n\n    if (!flicking) {\n      return;\n    }\n\n    flicking.off(EVENTS.MOVE, this._onAnimation);\n\n    const prevEl = this._prevEl;\n    const nextEl = this._nextEl;\n\n    [BROWSER.MOUSE_DOWN, BROWSER.TOUCH_START].forEach(evt => {\n      prevEl.removeEventListener(evt, this._preventInputPropagation);\n      nextEl.removeEventListener(evt, this._preventInputPropagation);\n    });\n\n    prevEl.removeEventListener(BROWSER.CLICK, this._onPrevClick);\n    nextEl.removeEventListener(BROWSER.CLICK, this._onNextClick);\n    this._flicking = null;\n  }\n\n  public update(): void {\n    this._updateClass(this._flicking!.camera.position);\n  }\n\n  private _preventInputPropagation = (e: Event) => {\n    e.stopPropagation();\n  };\n\n  private _onPrevClick = () => {\n    const flicking = this._flicking!;\n    const camera = flicking.camera;\n    const anchorPoints = camera.anchorPoints;\n\n    if (flicking.animating || anchorPoints.length <= 0) return;\n\n    const firstAnchor = anchorPoints[0];\n    const moveCount = this._moveCount;\n\n    if (this._moveByViewportSize) {\n      flicking.control.moveToPosition(camera.position - camera.size, flicking.duration)\n        .catch(this._onCatch);\n    } else {\n      if (flicking.circularEnabled) {\n        let targetPanel = flicking.currentPanel;\n\n        for (let i = 0; i < moveCount; i++) {\n          targetPanel = targetPanel.prev()!;\n        }\n\n        targetPanel.focus().catch(this._onCatch);\n      } else if (flicking.index > firstAnchor.panel.index) {\n        flicking.moveTo(Math.max(flicking.index - moveCount, firstAnchor.panel.index))\n          .catch(this._onCatch);\n      } else if (camera.position > camera.range.min) {\n        flicking.moveTo(flicking.index)\n          .catch(this._onCatch);\n      }\n    }\n  };\n\n  private _onNextClick = () => {\n    const flicking = this._flicking!;\n\n    const camera = flicking.camera;\n    const anchorPoints = camera.anchorPoints;\n\n    if (flicking.animating || anchorPoints.length <= 0) return;\n\n    const lastAnchor = anchorPoints[anchorPoints.length - 1];\n    const moveCount = this._moveCount;\n\n    if (this._moveByViewportSize) {\n      flicking.control.moveToPosition(camera.position + camera.size, flicking.duration)\n        .catch(this._onCatch);\n    } else {\n      if (flicking.circularEnabled) {\n        let targetPanel = flicking.currentPanel;\n\n        for (let i = 0; i < moveCount; i++) {\n          targetPanel = targetPanel.next()!;\n        }\n\n        targetPanel.focus().catch(this._onCatch);\n      } else if (flicking.index < lastAnchor.panel.index) {\n        flicking.moveTo(Math.min(flicking.index + moveCount, lastAnchor.panel.index))\n          .catch(this._onCatch);\n      } else if (camera.position > camera.range.min) {\n        flicking.moveTo(flicking.index)\n          .catch(this._onCatch);\n      }\n    }\n  };\n\n  private _onAnimation = () => {\n    const flicking = this._flicking!;\n    const camera = flicking.camera;\n    const controller = flicking.control.controller;\n\n    if (flicking.holding) {\n      this._updateClass(camera.position);\n    } else {\n      this._updateClass(controller.animatingContext.end);\n    }\n  };\n\n  private _updateClass(pos: number) {\n    const flicking = this._flicking!;\n    const disabledClass = this._disabledClass;\n    const prevEl = this._prevEl;\n    const nextEl = this._nextEl;\n    const cameraRange = flicking.camera.range;\n\n    const stopAtPrevEdge = flicking.circularEnabled\n      ? false\n      : pos <= cameraRange.min;\n    const stopAtNextEdge = flicking.circularEnabled\n      ? false\n      : pos >= cameraRange.max;\n\n    if (stopAtPrevEdge) {\n      addClass(prevEl, disabledClass);\n    } else {\n      removeClass(prevEl, disabledClass);\n    }\n\n    if (stopAtNextEdge) {\n      addClass(nextEl, disabledClass);\n    } else {\n      removeClass(nextEl, disabledClass);\n    }\n  }\n\n  private _onCatch = (err: Error) => {\n    if (err instanceof FlickingError) return;\n    throw err;\n  };\n}\n\nexport default Arrow;\n","import Flicking from \"@egjs/flicking\";\n\nimport Pagination from \"../Pagination\";\n\nexport interface RendererOptions {\n  flicking: Flicking;\n  pagination: Pagination;\n  wrapper: HTMLElement;\n}\n\nabstract class Renderer {\n  protected _flicking: Flicking;\n  protected _pagination: Pagination;\n  protected _wrapper: HTMLElement;\n\n  public constructor({\n    flicking,\n    pagination,\n    wrapper\n  }: RendererOptions) {\n    this._flicking = flicking;\n    this._pagination = pagination;\n    this._wrapper = wrapper;\n  }\n\n  public abstract render(): void;\n  public abstract update(index: number): void;\n}\n\nexport default Renderer;\n","import { FlickingError } from \"@egjs/flicking\";\n\nimport { PAGINATION } from \"../../const\";\nimport { BROWSER } from \"../../event\";\nimport { addClass, removeClass } from \"../../utils\";\n\nimport Renderer from \"./Renderer\";\n\nclass BulletRenderer extends Renderer {\n  private _childs: HTMLElement[] = [];\n\n  public render() {\n    const flicking = this._flicking;\n    const pagination = this._pagination;\n    const renderBullet = pagination.renderBullet;\n    const bulletWrapperClass = `${pagination.classPrefix}-${PAGINATION.BULLET_WRAPPER_SUFFIX}`;\n    const bulletClass = `${pagination.classPrefix}-${PAGINATION.BULLET_SUFFIX}`;\n    const bulletActiveClass = `${pagination.classPrefix}-${PAGINATION.BULLET_ACTIVE_SUFFIX}`;\n    const anchorPoints = flicking.camera.anchorPoints;\n    const wrapper = this._wrapper;\n\n    addClass(wrapper, bulletWrapperClass);\n\n    wrapper.innerHTML = anchorPoints\n      .map((_, index) => renderBullet(bulletClass, index))\n      .join(\"\\n\");\n\n    const bullets = [].slice.call(wrapper.children) as HTMLElement[];\n\n    bullets.forEach((bullet, index) => {\n      const anchorPoint = anchorPoints[index];\n\n      if (anchorPoint.panel.index === flicking.index) {\n        addClass(bullet, bulletActiveClass);\n      }\n\n      bullet.addEventListener(BROWSER.MOUSE_DOWN, e => {\n        e.stopPropagation();\n      });\n\n      bullet.addEventListener(BROWSER.TOUCH_START, e => {\n        e.stopPropagation();\n      });\n\n      bullet.addEventListener(BROWSER.CLICK, () => {\n        flicking.moveTo(anchorPoint.panel.index)\n          .catch(err => {\n            if (err instanceof FlickingError) return;\n            throw err;\n          });\n      });\n    });\n\n    this._childs = bullets;\n  }\n\n  public update(index: number) {\n    const flicking = this._flicking;\n    const pagination = this._pagination;\n    const bullets = this._childs;\n    const activeClass = `${pagination.classPrefix}-${PAGINATION.BULLET_ACTIVE_SUFFIX}`;\n    const anchorPoints = flicking.camera.anchorPoints;\n\n    if (anchorPoints.length <= 0) return;\n\n    bullets.forEach(bullet => {\n      removeClass(bullet, activeClass);\n    });\n\n    const anchorOffset = anchorPoints[0].panel.index;\n    const activeBullet = bullets[index - anchorOffset];\n\n    addClass(activeBullet, activeClass);\n  }\n}\n\nexport default BulletRenderer;\n","import { PAGINATION } from \"../../const\";\nimport { addClass } from \"../../utils\";\n\nimport Renderer from \"./Renderer\";\n\nclass FractionRenderer extends Renderer {\n  public render() {\n    const flicking = this._flicking;\n    const wrapper = this._wrapper;\n    const pagination = this._pagination;\n    const fractionWrapperClass = `${pagination.classPrefix}-${PAGINATION.FRACTION_WRAPPER_SUFFIX}`;\n    const fractionCurrentClass = `${pagination.classPrefix}-${PAGINATION.FRACTION_CURRENT_SUFFIX}`;\n    const fractionTotalClass = `${pagination.classPrefix}-${PAGINATION.FRACTION_TOTAL_SUFFIX}`;\n\n    addClass(wrapper, fractionWrapperClass);\n\n    wrapper.innerHTML = pagination.renderFraction(fractionCurrentClass, fractionTotalClass);\n\n    this.update(flicking.index);\n  }\n\n  public update(index: number) {\n    const flicking = this._flicking;\n    const wrapper = this._wrapper;\n    const pagination = this._pagination;\n    const fractionCurrentClass = `${pagination.classPrefix}-${PAGINATION.FRACTION_CURRENT_SUFFIX}`;\n    const fractionTotalClass = `${pagination.classPrefix}-${PAGINATION.FRACTION_TOTAL_SUFFIX}`;\n\n    const currentWrapper = wrapper.querySelector(`.${fractionCurrentClass}`) as HTMLElement;\n    const totalWrapper = wrapper.querySelector(`.${fractionTotalClass}`) as HTMLElement;\n    const anchorPoints = flicking.camera.anchorPoints;\n\n    const currentIndex = anchorPoints.length > 0\n      ? index - anchorPoints[0].panel.index + 1\n      : 0;\n\n    currentWrapper.innerHTML = pagination.fractionCurrentFormat(currentIndex);\n    totalWrapper.innerHTML = pagination.fractionTotalFormat(anchorPoints.length);\n  }\n}\n\nexport default FractionRenderer;\n","import { DIRECTION, FlickingError } from \"@egjs/flicking\";\n\nimport { PAGINATION } from \"../../const\";\nimport { BROWSER } from \"../../event\";\nimport { addClass, removeClass } from \"../../utils\";\n\nimport Renderer from \"./Renderer\";\n\nclass ScrollBulletRenderer extends Renderer {\n  private _bullets: HTMLElement[] = [];\n  private _bulletSize: number = 0;\n  private _previousIndex: number = -1;\n  private _sliderIndex: number = -1;\n\n  public render() {\n    const wrapper = this._wrapper;\n    const flicking = this._flicking;\n    const pagination = this._pagination;\n    const renderBullet = pagination.renderBullet;\n    const anchorPoints = flicking.camera.anchorPoints;\n\n    const dynamicWrapperClass = `${pagination.classPrefix}-${PAGINATION.SCROLL_WRAPPER_SUFFIX}`;\n    const bulletClass = `${pagination.classPrefix}-${PAGINATION.BULLET_SUFFIX}`;\n    const sliderClass = `${pagination.classPrefix}-${PAGINATION.SCROLL_SLIDER_SUFFIX}`;\n    const uninitClass = `${pagination.classPrefix}-${PAGINATION.SCROLL_UNINIT_SUFFIX}`;\n\n    const sliderEl = document.createElement(\"div\");\n\n    addClass(sliderEl, sliderClass);\n    addClass(wrapper, uninitClass);\n    addClass(wrapper, dynamicWrapperClass);\n    wrapper.appendChild(sliderEl);\n\n    sliderEl.innerHTML = anchorPoints\n      .map((_, index) => renderBullet(bulletClass, index))\n      .join(\"\\n\");\n\n    const bullets = [].slice.call(sliderEl.children) as HTMLElement[];\n\n    bullets.forEach((bullet, index) => {\n      const anchorPoint = anchorPoints[index];\n\n      bullet.addEventListener(BROWSER.MOUSE_DOWN, e => {\n        e.stopPropagation();\n      });\n\n      bullet.addEventListener(BROWSER.TOUCH_START, e => {\n        e.stopPropagation();\n      });\n\n      bullet.addEventListener(BROWSER.CLICK, () => {\n        flicking.moveTo(anchorPoint.panel.index)\n          .catch(err => {\n            if (err instanceof FlickingError) return;\n            throw err;\n          });\n      });\n    });\n\n    if (bullets.length <= 0) return;\n\n    const bulletStyle = getComputedStyle(bullets[0]);\n    const bulletSize = bullets[0].clientWidth + parseFloat(bulletStyle.marginLeft) + parseFloat(bulletStyle.marginRight);\n\n    wrapper.style.width = `${bulletSize * pagination.bulletCount}px`;\n\n    this._bullets = bullets;\n    this._bulletSize = bulletSize;\n\n    this.update(this._flicking.index);\n\n    window.requestAnimationFrame(() => {\n      removeClass(wrapper, uninitClass);\n    });\n  }\n\n  public update(index: number) {\n    const pagination = this._pagination;\n    const flicking = this._flicking;\n    const bullets = this._bullets;\n    const prevIndex = this._previousIndex;\n\n    const anchorPoints = flicking.camera.anchorPoints;\n    const anchorOffset = anchorPoints[0].panel.index;\n    const activeIndex = index - anchorOffset;\n\n    if (anchorPoints.length <= 0) return;\n\n    const bulletClass = `${pagination.classPrefix}-${PAGINATION.BULLET_SUFFIX}`;\n    const bulletActiveClass = `${pagination.classPrefix}-${PAGINATION.BULLET_ACTIVE_SUFFIX}`;\n    const bulletPrevClass = (offset: number) => `${pagination.classPrefix}-${PAGINATION.SCROLL_PREV_SUFFIX}${offset > 1 ? offset : \"\"}`;\n    const bulletNextClass = (offset: number) => `${pagination.classPrefix}-${PAGINATION.SCROLL_NEXT_SUFFIX}${offset > 1 ? offset : \"\"}`;\n\n    bullets.forEach((bullet, idx) => {\n      const indexOffset = idx - activeIndex;\n\n      if (indexOffset === 0) {\n        bullet.className = `${bulletClass} ${bulletActiveClass}`;\n      } else if (indexOffset > 0) {\n        bullet.className = `${bulletClass} ${bulletNextClass(Math.abs(indexOffset))}`;\n      } else {\n        bullet.className = `${bulletClass} ${bulletPrevClass(Math.abs(indexOffset))}`;\n      }\n    });\n\n    pagination.scrollOnChange(activeIndex, {\n      total: bullets.length,\n      prevIndex: prevIndex,\n      sliderIndex: this._sliderIndex,\n      direction: activeIndex > prevIndex ? DIRECTION.NEXT : DIRECTION.PREV,\n      bullets: [...bullets],\n      moveTo: this.moveTo\n    });\n\n    this._previousIndex = activeIndex;\n  }\n\n  public moveTo = (index: number): void => {\n    const pagination = this._pagination;\n    const sliderEl = this._wrapper.firstElementChild as HTMLElement;\n    const bulletSize = this._bulletSize;\n    const wrapperSize = bulletSize * pagination.bulletCount;\n\n    sliderEl.style.transform = `translate(${wrapperSize / 2 - (index + 0.5) * bulletSize}px)`;\n    this._sliderIndex = index;\n  };\n}\n\nexport default ScrollBulletRenderer;\n","import Flicking, { EVENTS, Plugin } from \"@egjs/flicking\";\n\nimport { PAGINATION } from \"../const\";\nimport ScrollContext from \"../type\";\n\nimport Renderer from \"./renderer/Renderer\";\nimport BulletRenderer from \"./renderer/BulletRenderer\";\nimport FractionRenderer from \"./renderer/FractionRenderer\";\nimport ScrollBulletRenderer from \"./renderer/ScrollBulletRenderer\";\n\nexport interface PaginationOptions {\n  parentEl: HTMLElement | null;\n  selector: string;\n  type: \"bullet\" | \"fraction\" | \"scroll\";\n  classPrefix: string;\n  bulletCount: number;\n  renderBullet: (className: string, index: number) => string;\n  renderFraction: (currentClass: string, totalClass: string) => string;\n  fractionCurrentFormat: (index: number) => string;\n  fractionTotalFormat: (total: number) => string;\n  scrollOnChange: (index: number, ctx: ScrollContext) => any;\n}\n\n/**\n * @memberof Flicking.Plugins\n */\nclass Pagination implements Plugin {\n  /* Internal Values */\n  private _flicking: Flicking | null = null;\n  private _renderer: Renderer;\n  private _wrapper: HTMLElement;\n\n  /* Options */\n  private _parentEl: PaginationOptions[\"parentEl\"];\n  private _selector: PaginationOptions[\"selector\"];\n  private _type: PaginationOptions[\"type\"];\n  private _classPrefix: PaginationOptions[\"classPrefix\"];\n  private _bulletCount: PaginationOptions[\"bulletCount\"];\n  private _renderBullet: PaginationOptions[\"renderBullet\"];\n  private _renderFraction: PaginationOptions[\"renderFraction\"];\n  private _fractionCurrentFormat: PaginationOptions[\"fractionCurrentFormat\"];\n  private _fractionTotalFormat: PaginationOptions[\"fractionTotalFormat\"];\n  private _scrollOnChange: PaginationOptions[\"scrollOnChange\"];\n\n  public get parentEl() { return this._parentEl; }\n  public get selector() { return this._selector; }\n  public get type() { return this._type; }\n  public get classPrefix() { return this._classPrefix; }\n  public get bulletCount() { return this._bulletCount; }\n  public get renderBullet() { return this._renderBullet; }\n  public get renderFraction() { return this._renderFraction; }\n  public get fractionCurrentFormat() { return this._fractionCurrentFormat; }\n  public get fractionTotalFormat() { return this._fractionTotalFormat; }\n  public get scrollOnChange() { return this._scrollOnChange; }\n\n  public set parentEl(val: PaginationOptions[\"parentEl\"]) { this._parentEl = val; }\n  public set selector(val: PaginationOptions[\"selector\"]) { this._selector = val; }\n  public set type(val: PaginationOptions[\"type\"]) { this._type = val; }\n  public set bulletWrapperclassPrefixClass(val: PaginationOptions[\"classPrefix\"]) { this._classPrefix = val; }\n  public set bulletCount(val: PaginationOptions[\"bulletCount\"]) { this._bulletCount = val; }\n  public set renderBullet(val: PaginationOptions[\"renderBullet\"]) { this._renderBullet = val; }\n  public set renderFraction(val: PaginationOptions[\"renderFraction\"]) { this._renderFraction = val; }\n  public set fractionCurrentFormat(val: PaginationOptions[\"fractionCurrentFormat\"]) { this._fractionCurrentFormat = val; }\n  public set fractionTotalFormat(val: PaginationOptions[\"fractionTotalFormat\"]) { this._fractionTotalFormat = val; }\n  public set scrollOnChange(val: PaginationOptions[\"scrollOnChange\"]) { this._scrollOnChange = val; }\n\n  public constructor({\n    parentEl = null,\n    selector = PAGINATION.SELECTOR,\n    type = PAGINATION.TYPE.BULLET,\n    classPrefix = PAGINATION.PREFIX,\n    bulletCount = 5,\n    renderBullet = (className: string) => `<span class=\"${className}\"></span>`,\n    renderFraction = (currentClass: string, totalClass: string) => `<span class=\"${currentClass}\"></span>/<span class=\"${totalClass}\"></span>`,\n    fractionCurrentFormat = (index: number) => index.toString(),\n    fractionTotalFormat = (index: number) => index.toString(),\n    scrollOnChange = (index: number, ctx: ScrollContext) => ctx.moveTo(index)\n  }: Partial<PaginationOptions> = {}) {\n    this._parentEl = parentEl;\n    this._selector = selector;\n    this._type = type;\n    this._classPrefix = classPrefix;\n    this._bulletCount = bulletCount;\n    this._renderBullet = renderBullet;\n    this._renderFraction = renderFraction;\n    this._fractionCurrentFormat = fractionCurrentFormat;\n    this._fractionTotalFormat = fractionTotalFormat;\n    this._scrollOnChange = scrollOnChange;\n  }\n\n  public init(flicking: Flicking): void {\n    if (this._flicking) {\n      this.destroy();\n    }\n\n    this._flicking = flicking;\n\n    const type = this._type;\n    const selector = this._selector;\n    const parentEl = this._parentEl ? this._parentEl : flicking.element;\n    const wrapper = parentEl.querySelector(selector);\n\n    if (!wrapper) {\n      throw new Error(`[Flicking-Pagination] Couldn't find element with the given selector: ${selector}`);\n    }\n\n    this._wrapper = wrapper as HTMLElement;\n    this._renderer = this._createRenderer(type);\n\n    flicking.on(EVENTS.WILL_CHANGE, this._onIndexChange);\n    flicking.on(EVENTS.WILL_RESTORE, this._onIndexChange);\n    flicking.on(EVENTS.PANEL_CHANGE, this.update);\n\n    this.update();\n  }\n\n  public destroy(): void {\n    const flicking = this._flicking;\n\n    if (!flicking) {\n      return;\n    }\n\n    flicking.off(EVENTS.WILL_CHANGE, this._onIndexChange);\n    flicking.off(EVENTS.WILL_RESTORE, this._onIndexChange);\n    flicking.off(EVENTS.PANEL_CHANGE, this.update);\n\n    this._removeAllChilds();\n    this._flicking = null;\n  }\n\n  public update = (): void => {\n    this._removeAllChilds();\n    this._renderer.render();\n  };\n\n  private _createRenderer(type: PaginationOptions[\"type\"]) {\n    const options = {\n      flicking: this._flicking!,\n      pagination: this,\n      wrapper: this._wrapper\n    };\n\n    switch (type) {\n      case PAGINATION.TYPE.BULLET:\n        return new BulletRenderer(options);\n      case PAGINATION.TYPE.FRACTION:\n        return new FractionRenderer(options);\n      case PAGINATION.TYPE.SCROLL:\n        return new ScrollBulletRenderer(options);\n      default:\n        throw new Error(`[Flicking-Pagination] type \"${type}\" is not supported.`);\n    }\n  }\n\n  private _onIndexChange = (evt: { index: number }) => {\n    this._renderer.update(evt.index);\n  };\n\n  private _removeAllChilds() {\n    const wrapper = this._wrapper;\n\n    while (wrapper.firstChild) {\n      wrapper.removeChild(wrapper.firstChild);\n    }\n  }\n}\n\nexport default Pagination;\n","/**\n * @namespace Flicking\n */\n/**\n * @namespace Flicking.Plugins\n */\nimport Parallax from \"./Parallax\";\nimport Fade from \"./Fade\";\nimport AutoPlay from \"./AutoPlay\";\nimport Arrow from \"./Arrow\";\n\nexport * from \"./pagination\";\n\nexport {\n  Parallax,\n  Fade,\n  AutoPlay,\n  Arrow\n};\n\nexport * from \"./const\";\n"],"names":["selector","scale","_this","_onMove","flicking","_flicking","panels","visiblePanels","forEach","panel","progress","outsetProgress","el","element","target","_selector","querySelector","parentTarget","parentNode","rect","getBoundingClientRect","parentRect","position","width","_scale","transform","style","cssText","Object","val","destroy","on","EVENTS","MOVE","AFTER_RESIZE","update","off","opacity","Math","min","max","abs","_a","_b","_c","duration","_d","direction","DIRECTION","NEXT","_e","stopOnHover","_direction","stop","_mouseEntered","animating","_timerId","window","setTimeout","next","catch","prev","play","_duration","clearTimeout","_stopOnHover","MOVE_START","HOLD_START","MOVE_END","SELECT","targetEl","addEventListener","_onMouseEnter","_onMouseLeave","removeEventListener","BROWSER","CLICK","MOUSE_DOWN","TOUCH_START","ARROW","PREV_SELECTOR","NEXT_SELECTOR","DISABLED_CLASS","PAGINATION","SELECTOR","PREFIX","BULLET_WRAPPER_SUFFIX","BULLET_SUFFIX","BULLET_ACTIVE_SUFFIX","FRACTION_WRAPPER_SUFFIX","FRACTION_CURRENT_SUFFIX","FRACTION_TOTAL_SUFFIX","SCROLL_UNINIT_SUFFIX","SCROLL_WRAPPER_SUFFIX","SCROLL_SLIDER_SUFFIX","SCROLL_PREV_SUFFIX","SCROLL_NEXT_SUFFIX","TYPE","BULLET","FRACTION","SCROLL","addClass","className","classList","add","classes","split","indexOf","removeClass","remove","classRegex","RegExp","replace","getElement","parent","pluginName","Error","parentEl","prevElSelector","nextElSelector","_f","disabledClass","_g","moveCount","_h","moveByViewportSize","e","stopPropagation","camera","anchorPoints","length","firstAnchor","_moveCount","_moveByViewportSize","control","moveToPosition","size","_onCatch","circularEnabled","targetPanel","currentPanel","i","focus","index","moveTo","range","lastAnchor","controller","holding","_updateClass","animatingContext","end","err","FlickingError","_parentEl","_prevElSelector","_nextElSelector","_disabledClass","_prevEl","_nextEl","_onAnimation","prevEl","nextEl","evt","_preventInputPropagation","_onPrevClick","_onNextClick","pos","cameraRange","stopAtPrevEdge","stopAtNextEdge","pagination","wrapper","_pagination","_wrapper","__extends","renderBullet","bulletWrapperClass","classPrefix","bulletClass","bulletActiveClass","innerHTML","map","_","join","bullets","slice","call","children","bullet","anchorPoint","_childs","activeClass","anchorOffset","activeBullet","Renderer","fractionWrapperClass","fractionCurrentClass","fractionTotalClass","renderFraction","currentWrapper","totalWrapper","currentIndex","fractionCurrentFormat","fractionTotalFormat","sliderEl","firstElementChild","bulletSize","_bulletSize","wrapperSize","bulletCount","_sliderIndex","dynamicWrapperClass","sliderClass","uninitClass","document","createElement","appendChild","bulletStyle","getComputedStyle","clientWidth","parseFloat","marginLeft","marginRight","_bullets","requestAnimationFrame","prevIndex","_previousIndex","activeIndex","bulletPrevClass","offset","bulletNextClass","idx","indexOffset","scrollOnChange","total","sliderIndex","PREV","type","_j","currentClass","totalClass","_k","toString","_l","_m","ctx","_removeAllChilds","_renderer","render","_type","_classPrefix","_bulletCount","_renderBullet","_renderFraction","_fractionCurrentFormat","_fractionTotalFormat","_scrollOnChange","_createRenderer","WILL_CHANGE","_onIndexChange","WILL_RESTORE","PANEL_CHANGE","options","BulletRenderer","FractionRenderer","ScrollBulletRenderer","firstChild","removeChild"],"mappings":";;;;;;;;;;AAEA;;;;;;AAKA;;;;;;;;;;;mBAqBE,CAAmBA,QAAnB,EAAkCC,KAAlC;oBAAA;;2BAAmB,EAAA;MAAAD,aAAA;;;wBAAe,EAAA;MAAAC,SAAA;;;eAyB3B,GAAS;MACdC,KAAI,CAACC,OAAL;KADK;;gBAIC,GAAU;UACVC,QAAQ,GAAGF,KAAI,CAACG,SAAtB;UAEI,CAACD,QAAL,EAAe;UAETE,MAAM,GAAGF,QAAQ,CAACG,aAAxB;MAEAD,MAAM,CAACE,OAAP,CAAe,UAAAC,KAAA;YACPC,QAAQ,GAAGD,KAAK,CAACE,cAAvB;YACMC,EAAE,GAAGH,KAAK,CAACI,OAAjB;YACMC,MAAM,GAAGZ,KAAI,CAACa,SAAL,GAAiBH,EAAE,CAACI,aAAH,CAA8Bd,KAAI,CAACa,SAAnC,CAAjB,GAAkEH,EAAjF;YACMK,YAAY,GAAGH,MAAM,CAACI,UAA5B;YACMC,IAAI,GAAGL,MAAM,CAACM,qBAAP,EAAb;YACMC,UAAU,GAAGJ,YAAY,CAACG,qBAAb,EAAnB;YACME,QAAQ,GAAG,CAACD,UAAU,CAACE,KAAX,GAAmBJ,IAAI,CAACI,KAAzB,IAAkC,CAAlC,GAAsCb,QAAtC,GAAiDR,KAAI,CAACsB,MAAvE;YACMC,SAAS,GAAG,+BAA6BH,QAA7B,QAAlB;YACMI,KAAK,GAAGZ,MAAM,CAACY,KAArB;QAEAA,KAAK,CAACC,OAAN,IAAiB,gBAAcF,SAAd,yBAAA,GAA8CA,SAA9C,oBAAA,GAAyEA,SAA1F;OAXF;KAPM;;SA5BDpB,SAAL,GAAiB,IAAjB;SACKU,SAAL,GAAiBf,QAAjB;SACKwB,MAAL,GAAcvB,KAAd;;;;EAjBF2B,qBAAA,oBAAA;SAAA;aAA+B,KAAKb,SAAZ;;SAGxB,UAAoBc,GAApB;WAAwCd,SAAL,GAAiBc,GAAjB;;;;GAHnC;EACAD,qBAAA,iBAAA;SAAA;aAA4B,KAAKJ,MAAZ;;SAGrB,UAAiBK,GAAjB;WAAqCL,MAAL,GAAcK,GAAd;;;;GAHhC;;cAmBO,GAAP,UAAYzB,QAAZ;QACM,KAAKC,SAAT,EAAoB;WACbyB,OAAL;;;SAGGzB,SAAL,GAAiBD,QAAjB;IAEAA,QAAQ,CAAC2B,EAAT,CAAYC,MAAM,CAACC,IAAnB,EAAyB,KAAK9B,OAA9B;IACAC,QAAQ,CAAC2B,EAAT,CAAYC,MAAM,CAACE,YAAnB,EAAiC,KAAKC,MAAtC;;SACKhC,OAAL;GATK;;iBAYA,GAAP;QACM,CAAC,KAAKE,SAAV,EAAqB;;SAEhBA,SAAL,CAAe+B,GAAf,CAAmBJ,MAAM,CAACC,IAA1B,EAAgC,KAAK9B,OAArC;;SACKE,SAAL,GAAiB,IAAjB;GAJK;;iBAgCT;GAvEA;;ACLA;;;;;;AAKA;;;;;;;;;;;eAqBE,CAAmBL,QAAnB,EAAkCC,KAAlC;oBAAA;;2BAAmB,EAAA;MAAAD,aAAA;;;wBAAe,EAAA;MAAAC,SAAA;;;eAyB3B,GAAS;MACdC,KAAI,CAACC,OAAL;KADK;;gBAIC,GAAU;UACVC,QAAQ,GAAGF,KAAI,CAACG,SAAtB;UACML,QAAQ,GAAGE,KAAI,CAACa,SAAtB;UACMd,KAAK,GAAGC,KAAI,CAACsB,MAAnB;UAEI,CAACpB,QAAL,EAAe;UAETE,MAAM,GAAGF,QAAQ,CAACG,aAAxB;MAEAD,MAAM,CAACE,OAAP,CAAe,UAAAC,KAAA;YACPC,QAAQ,GAAGD,KAAK,CAACE,cAAvB;YACMC,EAAE,GAAGH,KAAK,CAACI,OAAjB;YACMC,MAAM,GAAGd,QAAQ,GAAGY,EAAE,CAACI,aAAH,CAA8BhB,QAA9B,CAAH,GAA8CY,EAArE;YACMyB,OAAO,GAAGC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYD,IAAI,CAACE,GAAL,CAAS,CAAT,EAAa,IAAIF,IAAI,CAACG,GAAL,CAAS/B,QAAQ,GAAGT,KAApB,CAAjB,CAAZ,CAAhB;QAEAa,MAAM,CAACY,KAAP,CAAaW,OAAb,GAAuB,KAAGA,OAA1B;OANF;KATM;;SA5BDhC,SAAL,GAAiB,IAAjB;SACKU,SAAL,GAAiBf,QAAjB;SACKwB,MAAL,GAAcvB,KAAd;;;;EAjBF2B,qBAAA,oBAAA;SAAA;aAA+B,KAAKb,SAAZ;;SAGxB,UAAoBc,GAApB;WAAwCd,SAAL,GAAiBc,GAAjB;;;;GAHnC;EACAD,qBAAA,iBAAA;SAAA;aAA4B,KAAKJ,MAAZ;;SAGrB,UAAiBK,GAAjB;WAAqCL,MAAL,GAAcK,GAAd;;;;GAHhC;;cAmBO,GAAP,UAAYzB,QAAZ;QACM,KAAKC,SAAT,EAAoB;WACbyB,OAAL;;;SAGGzB,SAAL,GAAiBD,QAAjB;IAEAA,QAAQ,CAAC2B,EAAT,CAAYC,MAAM,CAACC,IAAnB,EAAyB,KAAK9B,OAA9B;IACAC,QAAQ,CAAC2B,EAAT,CAAYC,MAAM,CAACE,YAAnB,EAAiC,KAAKC,MAAtC;;SACKhC,OAAL;GATK;;iBAYA,GAAP;QACM,CAAC,KAAKE,SAAV,EAAqB;;SAEhBA,SAAL,CAAe+B,GAAf,CAAmBJ,MAAM,CAACC,IAA1B,EAAgC,KAAK9B,OAArC;;SACKE,SAAL,GAAiB,IAAjB;GAJK;;aA6BT;GApEA;;ACCA;;;;;;AAKA;;;;;;;;;;;;;mBA6BE,CAAmBqC,EAAnB;oBAAA;;QAAmBC,qBAIW;QAH5BC;QAAAC,QAAQ,mBAAG;QACXC;QAAAC,SAAS,mBAAGC,SAAS,CAACC;QACtBC;QAAAC,WAAW,mBAAG;;;;kBAzBR,GAA6B,IAA7B;iBACA,GAAW,CAAX;sBACA,GAAgB,KAAhB;;aA8ED,GAAO;UACN/C,QAAQ,GAAGF,KAAI,CAACG,SAAtB;UACM0C,SAAS,GAAG7C,KAAI,CAACkD,UAAvB;;UAEI,CAAChD,QAAL,EAAe;;;;MAIfF,KAAI,CAACmD,IAAL;;UAEInD,KAAI,CAACoD,aAAL,IAAsBlD,QAAQ,CAACmD,SAAnC,EAA8C;;;;MAI9CrD,KAAI,CAACsD,QAAL,GAAgBC,MAAM,CAACC,UAAP,CAAkB;YAC5BX,SAAS,KAAKC,SAAS,CAACC,IAA5B,EAAkC;UAChC7C,QAAQ,CAACuD,IAAT,GAAgBC,KAAhB,CAAsB;mBAAM,KAAK,CAAL;WAA5B;SADF,MAEO;UACLxD,QAAQ,CAACyD,IAAT,GAAgBD,KAAhB,CAAsB;mBAAM,KAAK,CAAL;WAA5B;;;QAGF1D,KAAI,CAAC4D,IAAL;OAPc,EAQb5D,KAAI,CAAC6D,SARQ,CAAhB;KAdK;;aAyBA,GAAO;MACZC,YAAY,CAAC9D,KAAI,CAACsD,QAAN,CAAZ;KADK;;sBAIC,GAAgB;MACtBtD,KAAI,CAACoD,aAAL,GAAqB,IAArB;;MACApD,KAAI,CAACmD,IAAL;KAFM;;sBAKA,GAAgB;MACtBnD,KAAI,CAACoD,aAAL,GAAqB,KAArB;;MACApD,KAAI,CAAC4D,IAAL;KAFM;;SAvFDC,SAAL,GAAiBlB,QAAjB;SACKO,UAAL,GAAkBL,SAAlB;SACKkB,YAAL,GAAoBd,WAApB;;;;EAzBFvB,qBAAA,oBAAA;SAAA;aAA+B,KAAKmC,SAAZ;;SAIxB,UAAoBlC,GAApB;WAAwCkC,SAAL,GAAiBlC,GAAjB;;;;GAJnC;EACAD,qBAAA,qBAAA;SAAA;aAAgC,KAAKwB,UAAZ;;SAIzB,UAAqBvB,GAArB;WAA+DuB,UAAL,GAAkBvB,GAAlB;;;;GAJ1D;EACAD,qBAAA,uBAAA;SAAA;aAAkC,KAAKqC,YAAZ;;SAI3B,UAAuBpC,GAAvB;WAA4CoC,YAAL,GAAoBpC,GAApB;;;;GAJvC;;cA0BO,GAAP,UAAYzB,QAAZ;;;QACM,KAAKC,SAAT,EAAoB;WACbyB,OAAL;;;IAGF1B,QAAQ,CAAC2B,EAAT,WACEW,GAACV,MAAM,CAACkC,WAAR,GAAqB,KAAKb,MAC1BX,GAACV,MAAM,CAACmC,WAAR,GAAqB,KAAKd,MAC1BX,GAACV,MAAM,CAACoC,SAAR,GAAmB,KAAKN,MACxBpB,GAACV,MAAM,CAACqC,OAAR,GAAiB,KAAKP,QAJxB;SAOKzD,SAAL,GAAiBD,QAAjB;;QACI,KAAK6D,YAAT,EAAuB;UACfK,QAAQ,GAAG,KAAKjE,SAAL,CAAeQ,OAAhC;MACAyD,QAAQ,CAACC,gBAAT,CAA0B,YAA1B,EAAwC,KAAKC,aAA7C,EAA4D,KAA5D;MACAF,QAAQ,CAACC,gBAAT,CAA0B,YAA1B,EAAwC,KAAKE,aAA7C,EAA4D,KAA5D;;;SAGGX,IAAL;GAnBK;;iBAsBA,GAAP;QACQ1D,QAAQ,GAAG,KAAKC,SAAtB;SAEKiD,aAAL,GAAqB,KAArB;SACKD,IAAL;;QAEI,CAACjD,QAAL,EAAe;;;;IAIfA,QAAQ,CAACgC,GAAT,CAAaJ,MAAM,CAACkC,UAApB,EAAgC,KAAKb,IAArC;IACAjD,QAAQ,CAACgC,GAAT,CAAaJ,MAAM,CAACmC,UAApB,EAAgC,KAAKd,IAArC;IACAjD,QAAQ,CAACgC,GAAT,CAAaJ,MAAM,CAACoC,QAApB,EAA8B,KAAKN,IAAnC;IACA1D,QAAQ,CAACgC,GAAT,CAAaJ,MAAM,CAACqC,MAApB,EAA4B,KAAKP,IAAjC;QAEMQ,QAAQ,GAAGlE,QAAQ,CAACS,OAA1B;IACAyD,QAAQ,CAACI,mBAAT,CAA6B,YAA7B,EAA2C,KAAKF,aAAhD,EAA+D,KAA/D;IACAF,QAAQ,CAACI,mBAAT,CAA6B,YAA7B,EAA2C,KAAKD,aAAhD,EAA+D,KAA/D;SAEKpE,SAAL,GAAiB,IAAjB;GAnBK;;gBAsBA,GAAP;GAAO;;iBA0CT;GA7HA;;ACbO,IAAMsE,OAAO,GAAG;EACrBC,KAAK,EAAE,OADc;EAErBC,UAAU,EAAE,WAFS;EAGrBC,WAAW,EAAE;CAHR;;ICAMC,KAAK,GAAG;EACnBC,aAAa,EAAE,sBADI;EAEnBC,aAAa,EAAE,sBAFI;EAGnBC,cAAc,EAAE;CAHX;AAMP,IAAaC,UAAU,GAAG;EACxBC,QAAQ,EAAE,sBADc;EAExBC,MAAM,EAAE,qBAFgB;EAGxBC,qBAAqB,EAAE,SAHC;EAIxBC,aAAa,EAAE,QAJS;EAKxBC,oBAAoB,EAAE,eALE;EAMxBC,uBAAuB,EAAE,UAND;EAOxBC,uBAAuB,EAAE,kBAPD;EAQxBC,qBAAqB,EAAE,gBARC;EASxBC,oBAAoB,EAAE,eATE;EAUxBC,qBAAqB,EAAE,QAVC;EAWxBC,oBAAoB,EAAE,QAXE;EAYxBC,kBAAkB,EAAE,aAZI;EAaxBC,kBAAkB,EAAE,aAbI;EAcxBC,IAAI,EAAE;IACJC,MAAM,EAAE,QADJ;IAEJC,QAAQ,EAAE,UAFN;IAGJC,MAAM,EAAE;;CAjBL;;ACNA,IAAMC,QAAQ,GAAG,UAACzF,EAAD,EAAkB0F,SAAlB;MAClB1F,EAAE,CAAC2F,SAAP,EAAkB;IAChB3F,EAAE,CAAC2F,SAAH,CAAaC,GAAb,CAAiBF,SAAjB;GADF,MAEO;QACCG,OAAO,GAAG7F,EAAE,CAAC0F,SAAH,CAAaI,KAAb,CAAmB,GAAnB,CAAhB;;QAEID,OAAO,CAACE,OAAR,CAAgBL,SAAhB,IAA6B,CAAjC,EAAoC;MAClC1F,EAAE,CAAC0F,SAAH,GAAkB1F,EAAE,CAAC0F,SAAH,MAAA,GAAgBA,SAAlC;;;CAPC;AAYP,AAAO,IAAMM,WAAW,GAAG,UAAChG,EAAD,EAAkB0F,SAAlB;MACrB1F,EAAE,CAAC2F,SAAP,EAAkB;IAChB3F,EAAE,CAAC2F,SAAH,CAAaM,MAAb,CAAoBP,SAApB;GADF,MAEO;QACCQ,UAAU,GAAG,IAAIC,MAAJ,CAAW,UAAQT,SAAR,UAAX,EAAqC,GAArC,CAAnB;IACA1F,EAAE,CAAC0F,SAAH,CAAaU,OAAb,CAAqBF,UAArB,EAAiC,GAAjC;;CALG;AASP,AAAO,IAAMG,UAAU,GAAG,UAACjH,QAAD,EAAmBkH,MAAnB,EAAwCC,UAAxC;MAClBvG,EAAE,GAAGsG,MAAM,CAAClG,aAAP,CAAqBhB,QAArB,CAAX;;MAEI,CAACY,EAAL,EAAS;UACD,IAAIwG,KAAJ,CAAU,eAAaD,UAAb,sDAAA,GAA2EnH,QAArF,CAAN;;;SAGKY,EAAP;CAPK;;ACNP;;;;;;AAKA;;;gBA+BE,CAAmB8B,EAAnB;oBAAA;;QAAmBC,qBAOQ;QANzBC;QAAAyE,QAAQ,mBAAG;QACXvE;QAAAwE,cAAc,mBAAGvC,KAAK,CAACC;QACvB9B;QAAAqE,cAAc,mBAAGxC,KAAK,CAACE;QACvBuC;QAAAC,aAAa,mBAAG1C,KAAK,CAACG;QACtBwC;QAAAC,SAAS,mBAAG;QACZC;QAAAC,kBAAkB,mBAAG;;;;kBAnCf,GAA6B,IAA7B;;iCAkGA,GAA2B,UAACC,CAAD;MACjCA,CAAC,CAACC,eAAF;KADM;;qBAIA,GAAe;UACf3H,QAAQ,GAAGF,KAAI,CAACG,SAAtB;UACM2H,MAAM,GAAG5H,QAAQ,CAAC4H,MAAxB;UACMC,YAAY,GAAGD,MAAM,CAACC,YAA5B;UAEI7H,QAAQ,CAACmD,SAAT,IAAsB0E,YAAY,CAACC,MAAb,IAAuB,CAAjD,EAAoD;UAE9CC,WAAW,GAAGF,YAAY,CAAC,CAAD,CAAhC;UACMN,SAAS,GAAGzH,KAAI,CAACkI,UAAvB;;UAEIlI,KAAI,CAACmI,mBAAT,EAA8B;QAC5BjI,QAAQ,CAACkI,OAAT,CAAiBC,cAAjB,CAAgCP,MAAM,CAAC1G,QAAP,GAAkB0G,MAAM,CAACQ,IAAzD,EAA+DpI,QAAQ,CAACyC,QAAxE,EACGe,KADH,CACS1D,KAAI,CAACuI,QADd;OADF,MAGO;YACDrI,QAAQ,CAACsI,eAAb,EAA8B;cACxBC,WAAW,GAAGvI,QAAQ,CAACwI,YAA3B;;eAEK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlB,SAApB,EAA+BkB,CAAC,EAAhC,EAAoC;YAClCF,WAAW,GAAGA,WAAW,CAAC9E,IAAZ,EAAd;;;UAGF8E,WAAW,CAACG,KAAZ,GAAoBlF,KAApB,CAA0B1D,KAAI,CAACuI,QAA/B;SAPF,MAQO,IAAIrI,QAAQ,CAAC2I,KAAT,GAAiBZ,WAAW,CAAC1H,KAAZ,CAAkBsI,KAAvC,EAA8C;UACnD3I,QAAQ,CAAC4I,MAAT,CAAgB1G,IAAI,CAACE,GAAL,CAASpC,QAAQ,CAAC2I,KAAT,GAAiBpB,SAA1B,EAAqCQ,WAAW,CAAC1H,KAAZ,CAAkBsI,KAAvD,CAAhB,EACGnF,KADH,CACS1D,KAAI,CAACuI,QADd;SADK,MAGA,IAAIT,MAAM,CAAC1G,QAAP,GAAkB0G,MAAM,CAACiB,KAAP,CAAa1G,GAAnC,EAAwC;UAC7CnC,QAAQ,CAAC4I,MAAT,CAAgB5I,QAAQ,CAAC2I,KAAzB,EACGnF,KADH,CACS1D,KAAI,CAACuI,QADd;;;KA1BE;;qBAgCA,GAAe;UACfrI,QAAQ,GAAGF,KAAI,CAACG,SAAtB;UAEM2H,MAAM,GAAG5H,QAAQ,CAAC4H,MAAxB;UACMC,YAAY,GAAGD,MAAM,CAACC,YAA5B;UAEI7H,QAAQ,CAACmD,SAAT,IAAsB0E,YAAY,CAACC,MAAb,IAAuB,CAAjD,EAAoD;UAE9CgB,UAAU,GAAGjB,YAAY,CAACA,YAAY,CAACC,MAAb,GAAsB,CAAvB,CAA/B;UACMP,SAAS,GAAGzH,KAAI,CAACkI,UAAvB;;UAEIlI,KAAI,CAACmI,mBAAT,EAA8B;QAC5BjI,QAAQ,CAACkI,OAAT,CAAiBC,cAAjB,CAAgCP,MAAM,CAAC1G,QAAP,GAAkB0G,MAAM,CAACQ,IAAzD,EAA+DpI,QAAQ,CAACyC,QAAxE,EACGe,KADH,CACS1D,KAAI,CAACuI,QADd;OADF,MAGO;YACDrI,QAAQ,CAACsI,eAAb,EAA8B;cACxBC,WAAW,GAAGvI,QAAQ,CAACwI,YAA3B;;eAEK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlB,SAApB,EAA+BkB,CAAC,EAAhC,EAAoC;YAClCF,WAAW,GAAGA,WAAW,CAAChF,IAAZ,EAAd;;;UAGFgF,WAAW,CAACG,KAAZ,GAAoBlF,KAApB,CAA0B1D,KAAI,CAACuI,QAA/B;SAPF,MAQO,IAAIrI,QAAQ,CAAC2I,KAAT,GAAiBG,UAAU,CAACzI,KAAX,CAAiBsI,KAAtC,EAA6C;UAClD3I,QAAQ,CAAC4I,MAAT,CAAgB1G,IAAI,CAACC,GAAL,CAASnC,QAAQ,CAAC2I,KAAT,GAAiBpB,SAA1B,EAAqCuB,UAAU,CAACzI,KAAX,CAAiBsI,KAAtD,CAAhB,EACGnF,KADH,CACS1D,KAAI,CAACuI,QADd;SADK,MAGA,IAAIT,MAAM,CAAC1G,QAAP,GAAkB0G,MAAM,CAACiB,KAAP,CAAa1G,GAAnC,EAAwC;UAC7CnC,QAAQ,CAAC4I,MAAT,CAAgB5I,QAAQ,CAAC2I,KAAzB,EACGnF,KADH,CACS1D,KAAI,CAACuI,QADd;;;KA3BE;;qBAiCA,GAAe;UACfrI,QAAQ,GAAGF,KAAI,CAACG,SAAtB;UACM2H,MAAM,GAAG5H,QAAQ,CAAC4H,MAAxB;UACMmB,UAAU,GAAG/I,QAAQ,CAACkI,OAAT,CAAiBa,UAApC;;UAEI/I,QAAQ,CAACgJ,OAAb,EAAsB;QACpBlJ,KAAI,CAACmJ,YAAL,CAAkBrB,MAAM,CAAC1G,QAAzB;OADF,MAEO;QACLpB,KAAI,CAACmJ,YAAL,CAAkBF,UAAU,CAACG,gBAAX,CAA4BC,GAA9C;;KARI;;iBAuCA,GAAW,UAACC,GAAD;UACbA,GAAG,YAAYC,aAAnB,EAAkC;YAC5BD,GAAN;KAFM;;SAzKDE,SAAL,GAAiBrC,QAAjB;SACKsC,eAAL,GAAuBrC,cAAvB;SACKsC,eAAL,GAAuBrC,cAAvB;SACKsC,cAAL,GAAsBpC,aAAtB;SACKW,UAAL,GAAkBT,SAAlB;SACKU,mBAAL,GAA2BR,kBAA3B;;;;EA9BFjG,qBAAA,kBAAA;SAAA;aAA6B,KAAKkI,OAAZ;;;;GAAtB;EACAlI,qBAAA,kBAAA;SAAA;aAA6B,KAAKmI,OAAZ;;;;GAAtB;EAEAnI,qBAAA,oBAAA;SAAA;aAA+B,KAAK8H,SAAZ;;SAOxB,UAAoB7H,GAApB;WAA0D6H,SAAL,GAAiB7H,GAAjB;;;;GAPrD;EACAD,qBAAA,0BAAA;SAAA;aAAqC,KAAK+H,eAAZ;;SAO9B,UAA0B9H,GAA1B;WAAsE8H,eAAL,GAAuB9H,GAAvB;;;;GAPjE;EACAD,qBAAA,0BAAA;SAAA;aAAqC,KAAKgI,eAAZ;;SAO9B,UAA0B/H,GAA1B;WAAsE+H,eAAL,GAAuB/H,GAAvB;;;;GAPjE;EACAD,qBAAA,yBAAA;SAAA;aAAoC,KAAKiI,cAAZ;;SAO7B,UAAyBhI,GAAzB;WAAoEgI,cAAL,GAAsBhI,GAAtB;;;;GAP/D;EACAD,qBAAA,qBAAA;SAAA;aAAgC,KAAKwG,UAAZ;;SAOzB,UAAqBvG,GAArB;WAA4DuG,UAAL,GAAkBvG,GAAlB;;;;GAPvD;EACAD,qBAAA,8BAAA;SAAA;aAAyC,KAAKyG,mBAAZ;;SAOlC,UAA8BxG,GAA9B;WAA8EwG,mBAAL,GAA2BxG,GAA3B;;;;GAPzE;;cAyBO,GAAP,UAAYzB,QAAZ;oBAAA;;QACM,KAAKC,SAAT,EAAoB;WACbyB,OAAL;;;SAGGzB,SAAL,GAAiBD,QAAjB;IAEAA,QAAQ,CAAC2B,EAAT,CAAYC,MAAM,CAACC,IAAnB,EAAyB,KAAK+H,YAA9B;QAEM3C,QAAQ,GAAG,KAAKqC,SAAL,GAAiB,KAAKA,SAAtB,GAAkCtJ,QAAQ,CAACS,OAA5D;QACMoJ,MAAM,GAAGhD,UAAU,CAAC,KAAK0C,eAAN,EAAuBtC,QAAvB,EAAiC,OAAjC,CAAzB;QACM6C,MAAM,GAAGjD,UAAU,CAAC,KAAK2C,eAAN,EAAuBvC,QAAvB,EAAiC,OAAjC,CAAzB;KAEC1C,OAAO,CAACE,UAAT,EAAqBF,OAAO,CAACG,WAA7B,EAA0CtE,OAA1C,CAAkD,UAAA2J,GAAA;MAChDF,MAAM,CAAC1F,gBAAP,CAAwB4F,GAAxB,EAA6BjK,KAAI,CAACkK,wBAAlC;MACAF,MAAM,CAAC3F,gBAAP,CAAwB4F,GAAxB,EAA6BjK,KAAI,CAACkK,wBAAlC;KAFF;IAKAH,MAAM,CAAC1F,gBAAP,CAAwBI,OAAO,CAACC,KAAhC,EAAuC,KAAKyF,YAA5C;IACAH,MAAM,CAAC3F,gBAAP,CAAwBI,OAAO,CAACC,KAAhC,EAAuC,KAAK0F,YAA5C;SAEKR,OAAL,GAAeG,MAAf;SACKF,OAAL,GAAeG,MAAf;SAEK/H,MAAL;GAxBK;;iBA2BA,GAAP;oBAAA;;QACQ/B,QAAQ,GAAG,KAAKC,SAAtB;;QAEI,CAACD,QAAL,EAAe;;;;IAIfA,QAAQ,CAACgC,GAAT,CAAaJ,MAAM,CAACC,IAApB,EAA0B,KAAK+H,YAA/B;QAEMC,MAAM,GAAG,KAAKH,OAApB;QACMI,MAAM,GAAG,KAAKH,OAApB;KAECpF,OAAO,CAACE,UAAT,EAAqBF,OAAO,CAACG,WAA7B,EAA0CtE,OAA1C,CAAkD,UAAA2J,GAAA;MAChDF,MAAM,CAACvF,mBAAP,CAA2ByF,GAA3B,EAAgCjK,KAAI,CAACkK,wBAArC;MACAF,MAAM,CAACxF,mBAAP,CAA2ByF,GAA3B,EAAgCjK,KAAI,CAACkK,wBAArC;KAFF;IAKAH,MAAM,CAACvF,mBAAP,CAA2BC,OAAO,CAACC,KAAnC,EAA0C,KAAKyF,YAA/C;IACAH,MAAM,CAACxF,mBAAP,CAA2BC,OAAO,CAACC,KAAnC,EAA0C,KAAK0F,YAA/C;SACKjK,SAAL,GAAiB,IAAjB;GAnBK;;gBAsBA,GAAP;SACOgJ,YAAL,CAAkB,KAAKhJ,SAAL,CAAgB2H,MAAhB,CAAuB1G,QAAzC;GADK;;sBAqFC,GAAR,UAAqBiJ,GAArB;QACQnK,QAAQ,GAAG,KAAKC,SAAtB;QACMoH,aAAa,GAAG,KAAKoC,cAA3B;QACMI,MAAM,GAAG,KAAKH,OAApB;QACMI,MAAM,GAAG,KAAKH,OAApB;QACMS,WAAW,GAAGpK,QAAQ,CAAC4H,MAAT,CAAgBiB,KAApC;QAEMwB,cAAc,GAAGrK,QAAQ,CAACsI,eAAT,GACnB,KADmB,GAEnB6B,GAAG,IAAIC,WAAW,CAACjI,GAFvB;QAGMmI,cAAc,GAAGtK,QAAQ,CAACsI,eAAT,GACnB,KADmB,GAEnB6B,GAAG,IAAIC,WAAW,CAAChI,GAFvB;;QAIIiI,cAAJ,EAAoB;MAClBpE,QAAQ,CAAC4D,MAAD,EAASxC,aAAT,CAAR;KADF,MAEO;MACLb,WAAW,CAACqD,MAAD,EAASxC,aAAT,CAAX;;;QAGEiD,cAAJ,EAAoB;MAClBrE,QAAQ,CAAC6D,MAAD,EAASzC,aAAT,CAAR;KADF,MAEO;MACLb,WAAW,CAACsD,MAAD,EAASzC,aAAT,CAAX;;GAvBI;;cA+BV;GApNA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVA;;;mBAKE,CAAmB/E,EAAnB;QACEtC,QAAQ;QACRuK,UAAU;QACVC,OAAO;SAEFvK,SAAL,GAAiBD,QAAjB;SACKyK,WAAL,GAAmBF,UAAnB;SACKG,QAAL,GAAgBF,OAAhB;;;iBAKJ;GAjBA;;ACFA;;;EAA6BG,iCAAA;;yBAA7B;wEAAA;;IACU7K,aAAA,GAAyB,EAAzB;;;;;;gBAED,GAAP;QACQE,QAAQ,GAAG,KAAKC,SAAtB;QACMsK,UAAU,GAAG,KAAKE,WAAxB;QACMG,YAAY,GAAGL,UAAU,CAACK,YAAhC;QACMC,kBAAkB,GAAMN,UAAU,CAACO,WAAX,MAAA,GAA0B/F,UAAU,CAACG,qBAAnE;QACM6F,WAAW,GAAMR,UAAU,CAACO,WAAX,MAAA,GAA0B/F,UAAU,CAACI,aAA5D;QACM6F,iBAAiB,GAAMT,UAAU,CAACO,WAAX,MAAA,GAA0B/F,UAAU,CAACK,oBAAlE;QACMyC,YAAY,GAAG7H,QAAQ,CAAC4H,MAAT,CAAgBC,YAArC;QACM2C,OAAO,GAAG,KAAKE,QAArB;IAEAzE,QAAQ,CAACuE,OAAD,EAAUK,kBAAV,CAAR;IAEAL,OAAO,CAACS,SAAR,GAAoBpD,YAAY,CAC7BqD,GADiB,CACb,UAACC,CAAD,EAAIxC,KAAJ;aAAciC,YAAY,CAACG,WAAD,EAAcpC,KAAd,CAAZ;KADD,EAEjByC,IAFiB,CAEZ,IAFY,CAApB;QAIMC,OAAO,GAAG,GAAGC,KAAH,CAASC,IAAT,CAAcf,OAAO,CAACgB,QAAtB,CAAhB;IAEAH,OAAO,CAACjL,OAAR,CAAgB,UAACqL,MAAD,EAAS9C,KAAT;UACR+C,WAAW,GAAG7D,YAAY,CAACc,KAAD,CAAhC;;UAEI+C,WAAW,CAACrL,KAAZ,CAAkBsI,KAAlB,KAA4B3I,QAAQ,CAAC2I,KAAzC,EAAgD;QAC9C1C,QAAQ,CAACwF,MAAD,EAAST,iBAAT,CAAR;;;MAGFS,MAAM,CAACtH,gBAAP,CAAwBI,OAAO,CAACE,UAAhC,EAA4C,UAAAiD,CAAA;QAC1CA,CAAC,CAACC,eAAF;OADF;MAIA8D,MAAM,CAACtH,gBAAP,CAAwBI,OAAO,CAACG,WAAhC,EAA6C,UAAAgD,CAAA;QAC3CA,CAAC,CAACC,eAAF;OADF;MAIA8D,MAAM,CAACtH,gBAAP,CAAwBI,OAAO,CAACC,KAAhC,EAAuC;QACrCxE,QAAQ,CAAC4I,MAAT,CAAgB8C,WAAW,CAACrL,KAAZ,CAAkBsI,KAAlC,EACGnF,KADH,CACS,UAAA4F,GAAA;cACDA,GAAG,YAAYC,aAAnB,EAAkC;gBAC5BD,GAAN;SAHJ;OADF;KAfF;SAwBKuC,OAAL,GAAeN,OAAf;GA1CK;;gBA6CA,GAAP,UAAc1C,KAAd;QACQ3I,QAAQ,GAAG,KAAKC,SAAtB;QACMsK,UAAU,GAAG,KAAKE,WAAxB;QACMY,OAAO,GAAG,KAAKM,OAArB;QACMC,WAAW,GAAMrB,UAAU,CAACO,WAAX,MAAA,GAA0B/F,UAAU,CAACK,oBAA5D;QACMyC,YAAY,GAAG7H,QAAQ,CAAC4H,MAAT,CAAgBC,YAArC;QAEIA,YAAY,CAACC,MAAb,IAAuB,CAA3B,EAA8B;IAE9BuD,OAAO,CAACjL,OAAR,CAAgB,UAAAqL,MAAA;MACdjF,WAAW,CAACiF,MAAD,EAASG,WAAT,CAAX;KADF;QAIMC,YAAY,GAAGhE,YAAY,CAAC,CAAD,CAAZ,CAAgBxH,KAAhB,CAAsBsI,KAA3C;QACMmD,YAAY,GAAGT,OAAO,CAAC1C,KAAK,GAAGkD,YAAT,CAA5B;IAEA5F,QAAQ,CAAC6F,YAAD,EAAeF,WAAf,CAAR;GAhBK;;uBAkBT;EAlE6BG,SAA7B;;ACHA;;;EAA+BpB,mCAAA;;2BAA/B;;;;;;gBACS,GAAP;QACQ3K,QAAQ,GAAG,KAAKC,SAAtB;QACMuK,OAAO,GAAG,KAAKE,QAArB;QACMH,UAAU,GAAG,KAAKE,WAAxB;QACMuB,oBAAoB,GAAMzB,UAAU,CAACO,WAAX,MAAA,GAA0B/F,UAAU,CAACM,uBAArE;QACM4G,oBAAoB,GAAM1B,UAAU,CAACO,WAAX,MAAA,GAA0B/F,UAAU,CAACO,uBAArE;QACM4G,kBAAkB,GAAM3B,UAAU,CAACO,WAAX,MAAA,GAA0B/F,UAAU,CAACQ,qBAAnE;IAEAU,QAAQ,CAACuE,OAAD,EAAUwB,oBAAV,CAAR;IAEAxB,OAAO,CAACS,SAAR,GAAoBV,UAAU,CAAC4B,cAAX,CAA0BF,oBAA1B,EAAgDC,kBAAhD,CAApB;SAEKnK,MAAL,CAAY/B,QAAQ,CAAC2I,KAArB;GAZK;;gBAeA,GAAP,UAAcA,KAAd;QACQ3I,QAAQ,GAAG,KAAKC,SAAtB;QACMuK,OAAO,GAAG,KAAKE,QAArB;QACMH,UAAU,GAAG,KAAKE,WAAxB;QACMwB,oBAAoB,GAAM1B,UAAU,CAACO,WAAX,MAAA,GAA0B/F,UAAU,CAACO,uBAArE;QACM4G,kBAAkB,GAAM3B,UAAU,CAACO,WAAX,MAAA,GAA0B/F,UAAU,CAACQ,qBAAnE;QAEM6G,cAAc,GAAG5B,OAAO,CAAC5J,aAAR,CAAsB,MAAIqL,oBAA1B,CAAvB;QACMI,YAAY,GAAG7B,OAAO,CAAC5J,aAAR,CAAsB,MAAIsL,kBAA1B,CAArB;QACMrE,YAAY,GAAG7H,QAAQ,CAAC4H,MAAT,CAAgBC,YAArC;QAEMyE,YAAY,GAAGzE,YAAY,CAACC,MAAb,GAAsB,CAAtB,GACjBa,KAAK,GAAGd,YAAY,CAAC,CAAD,CAAZ,CAAgBxH,KAAhB,CAAsBsI,KAA9B,GAAsC,CADrB,GAEjB,CAFJ;IAIAyD,cAAc,CAACnB,SAAf,GAA2BV,UAAU,CAACgC,qBAAX,CAAiCD,YAAjC,CAA3B;IACAD,YAAY,CAACpB,SAAb,GAAyBV,UAAU,CAACiC,mBAAX,CAA+B3E,YAAY,CAACC,MAA5C,CAAzB;GAhBK;;yBAkBT;EAlC+BiE,SAA/B;;ACGA;;;EAAmCpB,uCAAA;;+BAAnC;wEAAA;;IACU7K,cAAA,GAA0B,EAA1B;IACAA,iBAAA,GAAsB,CAAtB;IACAA,oBAAA,GAAyB,CAAC,CAA1B;IACAA,kBAAA,GAAuB,CAAC,CAAxB;;IAyGDA,YAAA,GAAS,UAAC6I,KAAD;UACR4B,UAAU,GAAGzK,KAAI,CAAC2K,WAAxB;UACMgC,QAAQ,GAAG3M,KAAI,CAAC4K,QAAL,CAAcgC,iBAA/B;UACMC,UAAU,GAAG7M,KAAI,CAAC8M,WAAxB;UACMC,WAAW,GAAGF,UAAU,GAAGpC,UAAU,CAACuC,WAA5C;MAEAL,QAAQ,CAACnL,KAAT,CAAeD,SAAf,GAA2B,gBAAawL,WAAW,GAAG,CAAd,GAAkB,CAAClE,KAAK,GAAG,GAAT,IAAgBgE,UAA/C,SAA3B;MACA7M,KAAI,CAACiN,YAAL,GAAoBpE,KAApB;KAPK;;;;;;;gBAvGA,GAAP;QACQ6B,OAAO,GAAG,KAAKE,QAArB;QACM1K,QAAQ,GAAG,KAAKC,SAAtB;QACMsK,UAAU,GAAG,KAAKE,WAAxB;QACMG,YAAY,GAAGL,UAAU,CAACK,YAAhC;QACM/C,YAAY,GAAG7H,QAAQ,CAAC4H,MAAT,CAAgBC,YAArC;QAEMmF,mBAAmB,GAAMzC,UAAU,CAACO,WAAX,MAAA,GAA0B/F,UAAU,CAACU,qBAApE;QACMsF,WAAW,GAAMR,UAAU,CAACO,WAAX,MAAA,GAA0B/F,UAAU,CAACI,aAA5D;QACM8H,WAAW,GAAM1C,UAAU,CAACO,WAAX,MAAA,GAA0B/F,UAAU,CAACW,oBAA5D;QACMwH,WAAW,GAAM3C,UAAU,CAACO,WAAX,MAAA,GAA0B/F,UAAU,CAACS,oBAA5D;QAEMiH,QAAQ,GAAGU,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAjB;IAEAnH,QAAQ,CAACwG,QAAD,EAAWQ,WAAX,CAAR;IACAhH,QAAQ,CAACuE,OAAD,EAAU0C,WAAV,CAAR;IACAjH,QAAQ,CAACuE,OAAD,EAAUwC,mBAAV,CAAR;IACAxC,OAAO,CAAC6C,WAAR,CAAoBZ,QAApB;IAEAA,QAAQ,CAACxB,SAAT,GAAqBpD,YAAY,CAC9BqD,GADkB,CACd,UAACC,CAAD,EAAIxC,KAAJ;aAAciC,YAAY,CAACG,WAAD,EAAcpC,KAAd,CAAZ;KADA,EAElByC,IAFkB,CAEb,IAFa,CAArB;QAIMC,OAAO,GAAG,GAAGC,KAAH,CAASC,IAAT,CAAckB,QAAQ,CAACjB,QAAvB,CAAhB;IAEAH,OAAO,CAACjL,OAAR,CAAgB,UAACqL,MAAD,EAAS9C,KAAT;UACR+C,WAAW,GAAG7D,YAAY,CAACc,KAAD,CAAhC;MAEA8C,MAAM,CAACtH,gBAAP,CAAwBI,OAAO,CAACE,UAAhC,EAA4C,UAAAiD,CAAA;QAC1CA,CAAC,CAACC,eAAF;OADF;MAIA8D,MAAM,CAACtH,gBAAP,CAAwBI,OAAO,CAACG,WAAhC,EAA6C,UAAAgD,CAAA;QAC3CA,CAAC,CAACC,eAAF;OADF;MAIA8D,MAAM,CAACtH,gBAAP,CAAwBI,OAAO,CAACC,KAAhC,EAAuC;QACrCxE,QAAQ,CAAC4I,MAAT,CAAgB8C,WAAW,CAACrL,KAAZ,CAAkBsI,KAAlC,EACGnF,KADH,CACS,UAAA4F,GAAA;cACDA,GAAG,YAAYC,aAAnB,EAAkC;gBAC5BD,GAAN;SAHJ;OADF;KAXF;QAoBIiC,OAAO,CAACvD,MAAR,IAAkB,CAAtB,EAAyB;QAEnBwF,WAAW,GAAGC,gBAAgB,CAAClC,OAAO,CAAC,CAAD,CAAR,CAApC;QACMsB,UAAU,GAAGtB,OAAO,CAAC,CAAD,CAAP,CAAWmC,WAAX,GAAyBC,UAAU,CAACH,WAAW,CAACI,UAAb,CAAnC,GAA8DD,UAAU,CAACH,WAAW,CAACK,WAAb,CAA3F;IAEAnD,OAAO,CAAClJ,KAAR,CAAcH,KAAd,GAAyBwL,UAAU,GAAGpC,UAAU,CAACuC,WAAxB,OAAzB;SAEKc,QAAL,GAAgBvC,OAAhB;SACKuB,WAAL,GAAmBD,UAAnB;SAEK5K,MAAL,CAAY,KAAK9B,SAAL,CAAe0I,KAA3B;IAEAtF,MAAM,CAACwK,qBAAP,CAA6B;MAC3BrH,WAAW,CAACgE,OAAD,EAAU0C,WAAV,CAAX;KADF;GAzDK;;gBA8DA,GAAP,UAAcvE,KAAd;QACQ4B,UAAU,GAAG,KAAKE,WAAxB;QACMzK,QAAQ,GAAG,KAAKC,SAAtB;QACMoL,OAAO,GAAG,KAAKuC,QAArB;QACME,SAAS,GAAG,KAAKC,cAAvB;QAEMlG,YAAY,GAAG7H,QAAQ,CAAC4H,MAAT,CAAgBC,YAArC;QACMgE,YAAY,GAAGhE,YAAY,CAAC,CAAD,CAAZ,CAAgBxH,KAAhB,CAAsBsI,KAA3C;QACMqF,WAAW,GAAGrF,KAAK,GAAGkD,YAA5B;QAEIhE,YAAY,CAACC,MAAb,IAAuB,CAA3B,EAA8B;QAExBiD,WAAW,GAAMR,UAAU,CAACO,WAAX,MAAA,GAA0B/F,UAAU,CAACI,aAA5D;QACM6F,iBAAiB,GAAMT,UAAU,CAACO,WAAX,MAAA,GAA0B/F,UAAU,CAACK,oBAAlE;;QACM6I,eAAe,GAAG,UAACC,MAAD;aAAuB3D,UAAU,CAACO,WAAX,MAAA,GAA0B/F,UAAU,CAACY,kBAArC,IAA0DuI,MAAM,GAAG,CAAT,GAAaA,MAAb,GAAsB,EAAhF,CAAH;KAA5C;;QACMC,eAAe,GAAG,UAACD,MAAD;aAAuB3D,UAAU,CAACO,WAAX,MAAA,GAA0B/F,UAAU,CAACa,kBAArC,IAA0DsI,MAAM,GAAG,CAAT,GAAaA,MAAb,GAAsB,EAAhF,CAAH;KAA5C;;IAEA7C,OAAO,CAACjL,OAAR,CAAgB,UAACqL,MAAD,EAAS2C,GAAT;UACRC,WAAW,GAAGD,GAAG,GAAGJ,WAA1B;;UAEIK,WAAW,KAAK,CAApB,EAAuB;QACrB5C,MAAM,CAACvF,SAAP,GAAsB6E,WAAW,MAAX,GAAeC,iBAArC;OADF,MAEO,IAAIqD,WAAW,GAAG,CAAlB,EAAqB;QAC1B5C,MAAM,CAACvF,SAAP,GAAsB6E,WAAW,MAAX,GAAeoD,eAAe,CAACjM,IAAI,CAACG,GAAL,CAASgM,WAAT,CAAD,CAApD;OADK,MAEA;QACL5C,MAAM,CAACvF,SAAP,GAAsB6E,WAAW,MAAX,GAAekD,eAAe,CAAC/L,IAAI,CAACG,GAAL,CAASgM,WAAT,CAAD,CAApD;;KARJ;IAYA9D,UAAU,CAAC+D,cAAX,CAA0BN,WAA1B,EAAuC;MACrCO,KAAK,EAAElD,OAAO,CAACvD,MADsB;MAErCgG,SAAS,EAAEA,SAF0B;MAGrCU,WAAW,EAAE,KAAKzB,YAHmB;MAIrCpK,SAAS,EAAEqL,WAAW,GAAGF,SAAd,GAA0BlL,SAAS,CAACC,IAApC,GAA2CD,SAAS,CAAC6L,IAJ3B;MAKrCpD,OAAO,oBAAMA,QALwB;MAMrCzC,MAAM,EAAE,KAAKA;KANf;SASKmF,cAAL,GAAsBC,WAAtB;GAtCK;;6BAkDT;EAtHmCjC,SAAnC;;ACeA;;;;AAGA;;;qBAwCE,CAAmBzJ,EAAnB;oBAAA;;QAAmBC,qBAWa;QAV9BC;QAAAyE,QAAQ,mBAAG;QACXvE;QAAA9C,QAAQ,mBAAGmF,UAAU,CAACC;QACtBlC;QAAA4L,IAAI,mBAAG3J,UAAU,CAACc,IAAX,CAAgBC;QACvBsB;QAAA0D,WAAW,mBAAG/F,UAAU,CAACE;QACzBqC;QAAAwF,WAAW,mBAAG;QACdtF;QAAAoD,YAAY,mBAAG,UAAC1E,SAAD;aAAuB,mBAAgBA,SAAhB,eAAA;;QACtCyI;QAAAxC,cAAc,mBAAG,UAACyC,YAAD,EAAuBC,UAAvB;aAA8C,mBAAgBD,YAAhB,8BAAA,GAAsDC,UAAtD,eAAA;;QAC/DC;QAAAvC,qBAAqB,mBAAG,UAAC5D,KAAD;aAAmBA,KAAK,CAACoG,QAAN,EAAA;;QAC3CC;QAAAxC,mBAAmB,mBAAG,UAAC7D,KAAD;aAAmBA,KAAK,CAACoG,QAAN,EAAA;;QACzCE;QAAAX,cAAc,mBAAG,UAAC3F,KAAD,EAAgBuG,GAAhB;aAAuCA,GAAG,CAACtG,MAAJ,CAAWD,KAAX,CAAA;;;;;kBAhDlD,GAA6B,IAA7B;;eAuGD,GAAS;MACd7I,KAAI,CAACqP,gBAAL;;MACArP,KAAI,CAACsP,SAAL,CAAeC,MAAf;KAFK;;uBAwBC,GAAiB,UAACtF,GAAD;MACvBjK,KAAI,CAACsP,SAAL,CAAerN,MAAf,CAAsBgI,GAAG,CAACpB,KAA1B;KADM;;SA7EDW,SAAL,GAAiBrC,QAAjB;SACKtG,SAAL,GAAiBf,QAAjB;SACK0P,KAAL,GAAaZ,IAAb;SACKa,YAAL,GAAoBzE,WAApB;SACK0E,YAAL,GAAoB1C,WAApB;SACK2C,aAAL,GAAqB7E,YAArB;SACK8E,eAAL,GAAuBvD,cAAvB;SACKwD,sBAAL,GAA8BpD,qBAA9B;SACKqD,oBAAL,GAA4BpD,mBAA5B;SACKqD,eAAL,GAAuBvB,cAAvB;;;;EA3CF9M,qBAAA,oBAAA;SAAA;aAA+B,KAAK8H,SAAZ;;SAWxB,UAAoB7H,GAApB;WAA+D6H,SAAL,GAAiB7H,GAAjB;;;;GAX1D;EACAD,qBAAA,oBAAA;SAAA;aAA+B,KAAKb,SAAZ;;SAWxB,UAAoBc,GAApB;WAA+Dd,SAAL,GAAiBc,GAAjB;;;;GAX1D;EACAD,qBAAA,gBAAA;SAAA;aAA2B,KAAK8N,KAAZ;;SAWpB,UAAgB7N,GAAhB;WAAuD6N,KAAL,GAAa7N,GAAb;;;;GAXlD;EACAD,qBAAA,uBAAA;SAAA;aAAkC,KAAK+N,YAAZ;;;;GAA3B;EACA/N,qBAAA,uBAAA;SAAA;aAAkC,KAAKgO,YAAZ;;SAW3B,UAAuB/N,GAAvB;WAAqE+N,YAAL,GAAoB/N,GAApB;;;;GAXhE;EACAD,qBAAA,wBAAA;SAAA;aAAmC,KAAKiO,aAAZ;;SAW5B,UAAwBhO,GAAxB;WAAuEgO,aAAL,GAAqBhO,GAArB;;;;GAXlE;EACAD,qBAAA,0BAAA;SAAA;aAAqC,KAAKkO,eAAZ;;SAW9B,UAA0BjO,GAA1B;WAA2EiO,eAAL,GAAuBjO,GAAvB;;;;GAXtE;EACAD,qBAAA,iCAAA;SAAA;aAA4C,KAAKmO,sBAAZ;;SAWrC,UAAiClO,GAAjC;WAAyFkO,sBAAL,GAA8BlO,GAA9B;;;;GAXpF;EACAD,qBAAA,+BAAA;SAAA;aAA0C,KAAKoO,oBAAZ;;SAWnC,UAA+BnO,GAA/B;WAAqFmO,oBAAL,GAA4BnO,GAA5B;;;;GAXhF;EACAD,qBAAA,0BAAA;SAAA;aAAqC,KAAKqO,eAAZ;;SAW9B,UAA0BpO,GAA1B;WAA2EoO,eAAL,GAAuBpO,GAAvB;;;;GAXtE;EAKAD,qBAAA,yCAAA;SAAA,UAAyCC,GAAzC;WAAuF8N,YAAL,GAAoB9N,GAApB;;;;GAAlF;;cAgCO,GAAP,UAAYzB,QAAZ;QACM,KAAKC,SAAT,EAAoB;WACbyB,OAAL;;;SAGGzB,SAAL,GAAiBD,QAAjB;QAEM0O,IAAI,GAAG,KAAKY,KAAlB;QACM1P,QAAQ,GAAG,KAAKe,SAAtB;QACMsG,QAAQ,GAAG,KAAKqC,SAAL,GAAiB,KAAKA,SAAtB,GAAkCtJ,QAAQ,CAACS,OAA5D;QACM+J,OAAO,GAAGvD,QAAQ,CAACrG,aAAT,CAAuBhB,QAAvB,CAAhB;;QAEI,CAAC4K,OAAL,EAAc;YACN,IAAIxD,KAAJ,CAAU,0EAAwEpH,QAAlF,CAAN;;;SAGG8K,QAAL,GAAgBF,OAAhB;SACK4E,SAAL,GAAiB,KAAKU,eAAL,CAAqBpB,IAArB,CAAjB;IAEA1O,QAAQ,CAAC2B,EAAT,CAAYC,MAAM,CAACmO,WAAnB,EAAgC,KAAKC,cAArC;IACAhQ,QAAQ,CAAC2B,EAAT,CAAYC,MAAM,CAACqO,YAAnB,EAAiC,KAAKD,cAAtC;IACAhQ,QAAQ,CAAC2B,EAAT,CAAYC,MAAM,CAACsO,YAAnB,EAAiC,KAAKnO,MAAtC;SAEKA,MAAL;GAvBK;;iBA0BA,GAAP;QACQ/B,QAAQ,GAAG,KAAKC,SAAtB;;QAEI,CAACD,QAAL,EAAe;;;;IAIfA,QAAQ,CAACgC,GAAT,CAAaJ,MAAM,CAACmO,WAApB,EAAiC,KAAKC,cAAtC;IACAhQ,QAAQ,CAACgC,GAAT,CAAaJ,MAAM,CAACqO,YAApB,EAAkC,KAAKD,cAAvC;IACAhQ,QAAQ,CAACgC,GAAT,CAAaJ,MAAM,CAACsO,YAApB,EAAkC,KAAKnO,MAAvC;;SAEKoN,gBAAL;;SACKlP,SAAL,GAAiB,IAAjB;GAZK;;yBAoBC,GAAR,UAAwByO,IAAxB;QACQyB,OAAO,GAAG;MACdnQ,QAAQ,EAAE,KAAKC,SADD;MAEdsK,UAAU,EAAE,IAFE;MAGdC,OAAO,EAAE,KAAKE;KAHhB;;YAMQgE,IAAR;WACO3J,UAAU,CAACc,IAAX,CAAgBC,MAArB;eACS,IAAIsK,cAAJ,CAAmBD,OAAnB,CAAP;;WACGpL,UAAU,CAACc,IAAX,CAAgBE,QAArB;eACS,IAAIsK,gBAAJ,CAAqBF,OAArB,CAAP;;WACGpL,UAAU,CAACc,IAAX,CAAgBG,MAArB;eACS,IAAIsK,oBAAJ,CAAyBH,OAAzB,CAAP;;;cAEM,IAAInJ,KAAJ,CAAU,kCAA+B0H,IAA/B,yBAAV,CAAN;;GAfE;;0BAuBA,GAAR;QACQlE,OAAO,GAAG,KAAKE,QAArB;;WAEOF,OAAO,CAAC+F,UAAf,EAA2B;MACzB/F,OAAO,CAACgG,WAAR,CAAoBhG,OAAO,CAAC+F,UAA5B;;GAJI;;mBAOV;GA5IA;;AC1BA;;;;;;"}